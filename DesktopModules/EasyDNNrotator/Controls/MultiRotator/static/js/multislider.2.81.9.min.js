!function (t) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], function (e) { return t(e, window) }) : "object" == typeof module && module.exports ? module.exports = t(require("jquery"), window) : t(eds3_5_jq, window) }(function (t, e) { "use strict"; function i(e) { return function (t, e) { var i, s = /^(\d+)\.(\d+)\.(\d+)/, n = s.exec(t) || [], o = s.exec(e) || []; for (i = 1; i <= 3; i++) { if (+n[i] > +o[i]) return 1; if (+n[i] < +o[i]) return -1 } return 0 }(t.fn.jquery, e) >= 0 } t.migrateVersion = "3.3.2", e.console && e.console.log && (t && i("3.0.0") || e.console.log("JQMIGRATE: eds3_5_jq 3.0.0+ REQUIRED"), t.migrateWarnings && e.console.log("JQMIGRATE: Migrate plugin loaded multiple times"), e.console.log("JQMIGRATE: Migrate is installed" + (t.migrateMute ? "" : " with logging active") + ", version " + t.migrateVersion)); var s = {}; function n(i) { var n = e.console; t.migrateDeduplicateWarnings && s[i] || (s[i] = !0, t.migrateWarnings.push(i), n && n.warn && !t.migrateMute && (n.warn("JQMIGRATE: " + i), t.migrateTrace && n.trace && n.trace())) } function o(t, e, i, s) { Object.defineProperty(t, e, { configurable: !0, enumerable: !0, get: function () { return n(s), i }, set: function (t) { n(s), i = t } }) } function a(t, e, i, s) { t[e] = function () { return n(s), i.apply(this, arguments) } } t.migrateDeduplicateWarnings = !0, t.migrateWarnings = [], void 0 === t.migrateTrace && (t.migrateTrace = !0), t.migrateReset = function () { s = {}, t.migrateWarnings.length = 0 }, "BackCompat" === e.document.compatMode && n("eds3_5_jq is not compatible with Quirks Mode"); var r, l = {}, h = t.fn.init, d = t.find, c = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/, p = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g, u = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g; for (r in t.fn.init = function (t) { var e = Array.prototype.slice.call(arguments); return "string" == typeof t && "#" === t && (n("eds3_5_jq( '#' ) is not a valid selector"), e[0] = []), h.apply(this, e) }, t.fn.init.prototype = t.fn, t.find = function (t) { var i = Array.prototype.slice.call(arguments); if ("string" == typeof t && c.test(t)) try { e.document.querySelector(t) } catch (s) { t = t.replace(p, function (t, e, i, s) { return "[" + e + i + '"' + s + '"]' }); try { e.document.querySelector(t), n("Attribute selector with '#' must be quoted: " + i[0]), i[0] = t } catch (t) { n("Attribute selector with '#' was not fixed: " + i[0]) } } return d.apply(this, i) }, d) Object.prototype.hasOwnProperty.call(d, r) && (t.find[r] = d[r]); if (a(t.fn, "size", function () { return this.length }, "eds3_5_jq.fn.size() is deprecated and removed; use the .length property"), a(t, "parseJSON", function () { return JSON.parse.apply(null, arguments) }, "eds3_5_jq.parseJSON is deprecated; use JSON.parse"), a(t, "holdReady", t.holdReady, "eds3_5_jq.holdReady is deprecated"), a(t, "unique", t.uniqueSort, "eds3_5_jq.unique is deprecated; use eds3_5_jq.uniqueSort"), o(t.expr, "filters", t.expr.pseudos, "eds3_5_jq.expr.filters is deprecated; use eds3_5_jq.expr.pseudos"), o(t.expr, ":", t.expr.pseudos, "eds3_5_jq.expr[':'] is deprecated; use eds3_5_jq.expr.pseudos"), i("3.1.1") && a(t, "trim", function (t) { return null == t ? "" : (t + "").replace(u, "") }, "eds3_5_jq.trim is deprecated; use String.prototype.trim"), i("3.2.0") && (a(t, "nodeName", function (t, e) { return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase() }, "eds3_5_jq.nodeName is deprecated"), a(t, "isArray", Array.isArray, "eds3_5_jq.isArray is deprecated; use Array.isArray")), i("3.3.0") && (a(t, "isNumeric", function (t) { var e = typeof t; return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t)) }, "eds3_5_jq.isNumeric() is deprecated"), t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (t, e) { l["[object " + e + "]"] = e.toLowerCase() }), a(t, "type", function (t) { return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? l[Object.prototype.toString.call(t)] || "object" : typeof t }, "eds3_5_jq.type is deprecated"), a(t, "isFunction", function (t) { return "function" == typeof t }, "eds3_5_jq.isFunction() is deprecated"), a(t, "isWindow", function (t) { return null != t && t === t.window }, "eds3_5_jq.isWindow() is deprecated")), t.ajax) { var f = t.ajax, m = /(=)\?(?=&|$)|\?\?/; t.ajax = function () { var t = f.apply(this, arguments); return t.promise && (a(t, "success", t.done, "jQXHR.success is deprecated and removed"), a(t, "error", t.fail, "jQXHR.error is deprecated and removed"), a(t, "complete", t.always, "jQXHR.complete is deprecated and removed")), t }, i("4.0.0") || t.ajaxPrefilter("+json", function (t) { !1 !== t.jsonp && (m.test(t.url) || "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && m.test(t.data)) && n("JSON-to-JSONP auto-promotion is deprecated") }) } var v = t.fn.removeAttr, _ = t.fn.toggleClass, w = /\S+/g; function g(t) { return t.replace(/-([a-z])/g, function (t, e) { return e.toUpperCase() }) } t.fn.removeAttr = function (e) { var i = this; return t.each(e.match(w), function (e, s) { t.expr.match.bool.test(s) && (n("eds3_5_jq.fn.removeAttr no longer sets boolean properties: " + s), i.prop(s, !1)) }), v.apply(this, arguments) }, t.fn.toggleClass = function (e) { return void 0 !== e && "boolean" != typeof e ? _.apply(this, arguments) : (n("eds3_5_jq.fn.toggleClass( boolean ) is deprecated"), this.each(function () { var i = this.getAttribute && this.getAttribute("class") || ""; i && t.data(this, "__className__", i), this.setAttribute && this.setAttribute("class", i || !1 === e ? "" : t.data(this, "__className__") || "") })) }; var S, y = !1, b = /^[a-z]/, x = /^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/; t.swap && t.each(["height", "width", "reliableMarginRight"], function (e, i) { var s = t.cssHooks[i] && t.cssHooks[i].get; s && (t.cssHooks[i].get = function () { var t; return y = !0, t = s.apply(this, arguments), y = !1, t }) }), t.swap = function (t, e, i, s) { var o, a, r = {}; for (a in y || n("eds3_5_jq.swap() is undocumented and deprecated"), e) r[a] = t.style[a], t.style[a] = e[a]; for (a in o = i.apply(t, s || []), e) t.style[a] = r[a]; return o }, i("3.4.0") && "undefined" != typeof Proxy && (t.cssProps = new Proxy(t.cssProps || {}, { set: function () { return n("JQMIGRATE: eds3_5_jq.cssProps is deprecated"), Reflect.set.apply(this, arguments) } })), t.cssNumber || (t.cssNumber = {}), S = t.fn.css, t.fn.css = function (e, i) { var s, o, a = this; return e && "object" == typeof e && !Array.isArray(e) ? (t.each(e, function (e, i) { t.fn.css.call(a, e, i) }), this) : ("number" == typeof i && (s = g(e), o = s, b.test(o) && x.test(o[0].toUpperCase() + o.slice(1)) || t.cssNumber[s] || n('Number-typed values are deprecated for eds3_5_jq.fn.css( "' + e + '", value )')), S.apply(this, arguments)) }; var M = t.data; if (t.data = function (e, i, s) { var o, a, r; if (i && "object" == typeof i && 2 === arguments.length) { for (r in o = t.hasData(e) && M.call(this, e), a = {}, i) r !== g(r) ? (n("eds3_5_jq.data() always sets/gets camelCased names: " + r), o[r] = i[r]) : a[r] = i[r]; return M.call(this, e, a), i } return i && "string" == typeof i && i !== g(i) && (o = t.hasData(e) && M.call(this, e)) && i in o ? (n("eds3_5_jq.data() always sets/gets camelCased names: " + i), arguments.length > 2 && (o[i] = s), o[i]) : M.apply(this, arguments) }, t.fx) { var C, $, E = t.Tween.prototype.run, L = function (t) { return t }; t.Tween.prototype.run = function () { t.easing[this.easing].length > 1 && (n("'eds3_5_jq.easing." + this.easing.toString() + "' should use only one argument"), t.easing[this.easing] = L), E.apply(this, arguments) }, C = t.fx.interval || 13, $ = "eds3_5_jq.fx.interval is deprecated", e.requestAnimationFrame && Object.defineProperty(t.fx, "interval", { configurable: !0, enumerable: !0, get: function () { return e.document.hidden || n($), C }, set: function (t) { n($), C = t } }) } var T = t.fn.load, k = t.event.add, V = t.event.fix; t.event.props = [], t.event.fixHooks = {}, o(t.event.props, "concat", t.event.props.concat, "eds3_5_jq.event.props.concat() is deprecated and removed"), t.event.fix = function (e) { var i, s = e.type, o = this.fixHooks[s], a = t.event.props; if (a.length) for (n("eds3_5_jq.event.props are deprecated and removed: " + a.join()); a.length;)t.event.addProp(a.pop()); if (o && !o._migrated_ && (o._migrated_ = !0, n("eds3_5_jq.event.fixHooks are deprecated and removed: " + s), (a = o.props) && a.length)) for (; a.length;)t.event.addProp(a.pop()); return i = V.call(this, e), o && o.filter ? o.filter(i, e) : i }, t.event.add = function (t, i) { return t === e && "load" === i && "complete" === e.document.readyState && n("eds3_5_jq(window).on('load'...) called after load event occurred"), k.apply(this, arguments) }, t.each(["load", "unload", "error"], function (e, i) { t.fn[i] = function () { var t = Array.prototype.slice.call(arguments, 0); return "load" === i && "string" == typeof t[0] ? T.apply(this, t) : (n("eds3_5_jq.fn." + i + "() is deprecated"), t.splice(0, 0, i), arguments.length ? this.on.apply(this, t) : (this.triggerHandler.apply(this, t), this)) } }), t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function (e, i) { t.fn[i] = function (t, e) { return n("eds3_5_jq.fn." + i + "() event shorthand is deprecated"), arguments.length > 0 ? this.on(i, null, t, e) : this.trigger(i) } }), t(function () { t(e.document).triggerHandler("ready") }), t.event.special.ready = { setup: function () { this === e.document && n("'ready' event is deprecated") } }, t.fn.extend({ bind: function (t, e, i) { return n("eds3_5_jq.fn.bind() is deprecated"), this.on(t, null, e, i) }, unbind: function (t, e) { return n("eds3_5_jq.fn.unbind() is deprecated"), this.off(t, null, e) }, delegate: function (t, e, i, s) { return n("eds3_5_jq.fn.delegate() is deprecated"), this.on(e, t, i, s) }, undelegate: function (t, e, i) { return n("eds3_5_jq.fn.undelegate() is deprecated"), 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", i) }, hover: function (t, e) { return n("eds3_5_jq.fn.hover() is deprecated"), this.on("mouseenter", t).on("mouseleave", e || t) } }); var A = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, P = t.htmlPrefilter, z = function (t) { var i = e.document.implementation.createHTMLDocument(""); return i.body.innerHTML = t, i.body && i.body.innerHTML }, H = function (t) { var e = t.replace(A, "<$1></$2>"); e !== t && z(t) !== z(e) && n("HTML tags must be properly nested and closed: " + t) }; t.UNSAFE_restoreLegacyHtmlPrefilter = function () { t.htmlPrefilter = function (t) { return H(t), t.replace(A, "<$1></$2>") } }, t.htmlPrefilter = function (t) { return H(t), P(t) }; var j = t.fn.offset; if (t.fn.offset = function () { var t = this[0]; return !t || t.nodeType && t.getBoundingClientRect ? j.apply(this, arguments) : (n("eds3_5_jq.fn.offset() requires a valid DOM element"), arguments.length ? this : void 0) }, t.ajax) { var I = t.param; t.param = function (e, i) { var s = t.ajaxSettings && t.ajaxSettings.traditional; return void 0 === i && s && (n("eds3_5_jq.param() no longer uses eds3_5_jq.ajaxSettings.traditional"), i = s), I.call(this, e, i) } } var D = t.fn.andSelf || t.fn.addBack; if (t.fn.andSelf = function () { return n("eds3_5_jq.fn.andSelf() is deprecated and removed, use eds3_5_jq.fn.addBack()"), D.apply(this, arguments) }, t.Deferred) { var O = t.Deferred, R = [["resolve", "done", t.Callbacks("once memory"), t.Callbacks("once memory"), "resolved"], ["reject", "fail", t.Callbacks("once memory"), t.Callbacks("once memory"), "rejected"], ["notify", "progress", t.Callbacks("memory"), t.Callbacks("memory")]]; t.Deferred = function (e) { var i = O(), s = i.promise(); return i.pipe = s.pipe = function () { var e = arguments; return n("deferred.pipe() is deprecated"), t.Deferred(function (n) { t.each(R, function (t, o) { var a = "function" == typeof e[t] && e[t]; i[o[1]](function () { var t = a && a.apply(this, arguments); t && "function" == typeof t.promise ? t.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o[0] + "With"](this === s ? n.promise() : this, a ? [t] : arguments) }) }), e = null }).promise() }, e && e.call(i, i), i }, t.Deferred.exceptionHook = O.exceptionHook } return t }), function (jQuery) { var $ = jQuery; window.averta = {}, function ($) { window.package = function (t) { window[t] || (window[t] = {}) }; var extend = function (t, e) { for (var i in e) t[i] = e[i] }; Function.prototype.extend = function (t) { "function" == typeof t.prototype.constructor ? (extend(this.prototype, t.prototype), this.prototype.constructor = this) : (this.prototype.extend(t), this.prototype.constructor = this) }; var trans = { Moz: "-moz-", Webkit: "-webkit-", Khtml: "-khtml-", O: "-o-", ms: "-ms-", Icab: "-icab-" }; function getVendorPrefix() { if ("result" in arguments.callee) return arguments.callee.result; var t = /^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/, e = document.getElementsByTagName("script")[0]; for (var i in e.style) if (t.test(i)) return arguments.callee.result = i.match(t)[0]; return "WebkitOpacity" in e.style ? arguments.callee.result = "Webkit" : "KhtmlOpacity" in e.style ? arguments.callee.result = "Khtml" : arguments.callee.result = "" } function checkStyleValue(t) { var e = (document.body || document.documentElement).style, i = t; if ("string" == typeof e[i]) return !0; v = ["Moz", "Webkit", "Khtml", "O", "ms"], i = i.charAt(0).toUpperCase() + i.substr(1); for (var s = 0; s < v.length; s++)if ("string" == typeof e[v[s] + i]) return !0; return !1 } function supportsTransitions() { return checkStyleValue("transition") } function supportsTransforms() { return checkStyleValue("transform") } function supports3DTransforms() { if (!supportsTransforms()) return !1; var t, e = document.createElement("i"), i = { WebkitTransform: "-webkit-transform", OTransform: "-o-transform", MSTransform: "-ms-transform", msTransform: "-ms-transform", MozTransform: "-moz-transform", Transform: "transform", transform: "transform" }; for (var s in e.style.display = "block", document.body.insertBefore(e, null), i) void 0 !== e.style[s] && (e.style[s] = "translate3d(1px,1px,1px)", t = window.getComputedStyle(e).getPropertyValue(i[s])); return document.body.removeChild(e), null != t && t.length > 0 && "none" !== t } window._mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent), window._touch = "ontouchstart" in document, $(document).ready(function () { window._jcsspfx = getVendorPrefix(), window._csspfx = trans[window._jcsspfx], window._cssanim = supportsTransitions(), window._css3d = supports3DTransforms(), window._css2d = supportsTransforms() }), window.parseQueryString = function (t) { var e = {}; return t.replace(new RegExp("([^?=&]+)(=([^&]*))?", "g"), function (t, i, s, n) { e[i] = n }), e }; var fps60 = 50 / 3; if (window.requestAnimationFrame || (window.requestAnimationFrame = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t, e) { window.setTimeout(t, fps60) }), window.getComputedStyle || (window.getComputedStyle = function (t, e) { return this.el = t, this.getPropertyValue = function (e) { var i = /(\-([a-z]){1})/g; return "float" == e && (e = "styleFloat"), i.test(e) && (e = e.replace(i, function () { return arguments[2].toUpperCase() })), t.currentStyle[e] ? t.currentStyle[e] : null }, t.currentStyle }), Array.prototype.indexOf || (Array.prototype.indexOf = function (t) { var e = this.length >>> 0, i = Number(arguments[1]) || 0; for ((i = i < 0 ? Math.ceil(i) : Math.floor(i)) < 0 && (i += e); i < e; i++)if (i in this && this[i] === t) return i; return -1 }), window.isMSIE = function (version) { if (!$.browser.msie) return !1; if (!version) return !0; var ieVer = $.browser.version.slice(0, $.browser.version.indexOf(".")); return "string" == typeof version ? -1 !== version.indexOf("<") || -1 !== version.indexOf(">") ? eval(ieVer + version) : eval(version + "==" + ieVer) : version == ieVer }, $.removeDataAttrs = function (t, e) { var i, s, n = [], o = t[0].attributes, a = o.length; for (e = e || [], i = 0; i < a; i++)"data-" === (s = o[i].name).substring(0, 5) && -1 === e.indexOf(s) && n.push(o[i].name); $.each(n, function (e, i) { t.removeAttr(i) }) }, jQuery) { $.jqLoadFix = function () { if (this.complete) { var t = this; setTimeout(function () { $(t).load() }, 1) } }, jQuery.uaMatch = jQuery.uaMatch || function (t) { t = t.toLowerCase(); var e = /(chrome)[ \/]([\w.]+)/.exec(t) || /(webkit)[ \/]([\w.]+)/.exec(t) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t) || /(msie) ([\w.]+)/.exec(t) || t.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t) || []; return { browser: e[1] || "", version: e[2] || "0" } }, matched = jQuery.uaMatch(navigator.userAgent), browser = {}, matched.browser && (browser[matched.browser] = !0, browser.version = matched.version), browser.chrome ? browser.webkit = !0 : browser.webkit && (browser.safari = !0); var isIE11 = !!navigator.userAgent.match(/Trident\/7\./); isIE11 && (browser.msie = "true", delete browser.mozilla), jQuery.browser = browser, $.fn.preloadImg = function (t, e) { return this.each(function () { var i = $(this), s = this, n = new Image; n.onload = function (o) { null == o && (o = {}), i.attr("src", t), o.width = n.width, o.height = n.height, i.data("width", n.width), i.data("height", n.height), setTimeout(function () { e.call(s, o) }, 50), n = null }, n.src = t }), this } } }(jQuery), function () { "use strict"; averta.EventDispatcher = function () { this.listeners = {} }, averta.EventDispatcher.extend = function (t) { var e = new averta.EventDispatcher; for (var i in e) "constructor" != i && (t[i] = averta.EventDispatcher.prototype[i]) }, averta.EventDispatcher.prototype = { constructor: averta.EventDispatcher, addEventListener: function (t, e, i) { this.listeners[t] || (this.listeners[t] = []), this.listeners[t].push({ listener: e, ref: i }) }, removeEventListener: function (t, e, i) { if (this.listeners[t]) { for (var s = 0; s < this.listeners[t].length; ++s)e === this.listeners[t][s].listener && i === this.listeners[t][s].ref && this.listeners[t].splice(s--, 1); 0 === this.listeners[t].length && (this.listeners[t] = null) } }, dispatchEvent: function (t) { if (t.target = this, this.listeners[t.type]) for (var e = 0, i = this.listeners[t.type].length; e < i; ++e)this.listeners[t.type][e].listener.call(this.listeners[t.type][e].ref, t) } } }(), function (t) { "use strict"; var e = "ontouchstart" in document, i = window.navigator.pointerEnabled, s = !i && window.navigator.msPointerEnabled, n = i || s, o = (i ? "pointerdown " : "") + (s ? "MSPointerDown " : "") + (e ? "touchstart " : "") + "mousedown", a = (i ? "pointermove " : "") + (s ? "MSPointerMove " : "") + (e ? "touchmove " : "") + "mousemove", r = (i ? "pointerup " : "") + (s ? "MSPointerUp " : "") + (e ? "touchend " : "") + "mouseup", l = (i ? "pointercancel " : "") + (s ? "MSPointerCancel " : "") + "touchcancel"; averta.TouchSwipe = function (t) { this.$element = t, this.enabled = !0, t.bind(o, { target: this }, this.__touchStart), t[0].swipe = this, this.onSwipe = null, this.swipeType = "horizontal", this.noSwipeSelector = "input, textarea, button, .no-swipe, .ms-no-swipe", this.lastStatus = {} }; var h = averta.TouchSwipe.prototype; h.getDirection = function (t, e) { switch (this.swipeType) { case "horizontal": return t <= this.start_x ? "left" : "right"; case "vertical": return e <= this.start_y ? "up" : "down"; case "all": return Math.abs(t - this.start_x) > Math.abs(e - this.start_y) ? t <= this.start_x ? "left" : "right" : e <= this.start_y ? "up" : "down" } }, h.priventDefultEvent = function (t, e) { var i = Math.abs(t - this.start_x) > Math.abs(e - this.start_y); return "horizontal" === this.swipeType && i || "vertical" === this.swipeType && !i }, h.createStatusObject = function (t) { var e, i, s = {}; return e = this.lastStatus.distanceX || 0, i = this.lastStatus.distanceY || 0, s.distanceX = t.pageX - this.start_x, s.distanceY = t.pageY - this.start_y, s.moveX = s.distanceX - e, s.moveY = s.distanceY - i, s.distance = parseInt(Math.sqrt(Math.pow(s.distanceX, 2) + Math.pow(s.distanceY, 2))), s.duration = (new Date).getTime() - this.start_time, s.direction = this.getDirection(t.pageX, t.pageY), s }, h.__reset = function (t, i) { this.reset = !1, this.lastStatus = {}, this.start_time = (new Date).getTime(), this.start_x = e ? t.touches[0].pageX : n ? t.pageX : i.pageX, this.start_y = e ? t.touches[0].pageY : n ? t.pageY : i.pageY }, h.__touchStart = function (i) { var s = i.data.target, o = i; if (s.enabled && !(t(i.target).closest(s.noSwipeSelector, s.$element).length > 0)) if (i = i.originalEvent, n && t(this).css("-ms-touch-action", "horizontal" === s.swipeType ? "pan-y" : "pan-x"), s.onSwipe) { if (!s.touchStarted) { s.start_x = e ? i.touches[0].pageX : n ? i.pageX : o.pageX, s.start_y = e ? i.touches[0].pageY : n ? i.pageY : o.pageY, s.start_time = (new Date).getTime(), t(document).bind(r, { target: s }, s.__touchEnd).bind(a, { target: s }, s.__touchMove).bind(l, { target: s }, s.__touchCancel); var h = e ? i.touches[0] : n ? i : o, d = s.createStatusObject(h); d.phase = "start", s.onSwipe.call(null, d), e || o.preventDefault(), s.lastStatus = d, s.touchStarted = !0 } } else t.error("Swipe listener is undefined") }, h.__touchMove = function (t) { var i = t.data.target, s = t; if (t = t.originalEvent, i.touchStarted) { clearTimeout(i.timo), i.timo = setTimeout(function () { i.__reset(t, s) }, 60); var o = e ? t.touches[0] : n ? t : s, a = i.createStatusObject(o); i.priventDefultEvent(o.pageX, o.pageY) && s.preventDefault(), a.phase = "move", i.lastStatus = a, i.onSwipe.call(null, a) } }, h.__touchEnd = function (i) { var s = i.data.target, n = i; i = i.originalEvent, clearTimeout(s.timo); e && i.touches[0]; var o = s.lastStatus; e || n.preventDefault(), o.phase = "end", s.touchStarted = !1, s.priventEvt = null, t(document).unbind(r, s.__touchEnd).unbind(a, s.__touchMove).unbind(l, s.__touchCancel), o.speed = o.distance / o.duration, s.onSwipe.call(null, o) }, h.__touchCancel = function (t) { t.data.target.__touchEnd(t) }, h.enable = function () { this.enabled || (this.enabled = !0) }, h.disable = function () { this.enabled && (this.enabled = !1) } }(jQuery), function () { "use strict"; averta.Ticker = function () { }; var t = averta.Ticker, e = [], i = 0, s = !0; t.add = function (s, n) { return e.push([s, n]), 1 === e.length && t.start(), i = e.length }, t.remove = function (s, n) { for (var o = 0, a = e.length; o < a; ++o)e[o] && e[o][0] === s && e[o][1] === n && e.splice(o, 1); 0 === (i = e.length) && t.stop() }, t.start = function () { s && (s = !1, n()) }, t.stop = function () { s = !0 }; var n = function () { if (!t.__stopped) { for (var s, o = 0; o !== i; o++)(s = e[o])[0].call(s[1]); requestAnimationFrame(n) } } }(), function () { "use strict"; Date.now || (Date.now = function () { return (new Date).getTime() }), averta.Timer = function (t, e) { this.delay = t, this.currentCount = 0, this.paused = !1, this.onTimer = null, this.refrence = null, e && this.start() }, averta.Timer.prototype = { constructor: averta.Timer, start: function () { this.paused = !1, this.lastTime = Date.now(), averta.Ticker.add(this.update, this) }, stop: function () { this.paused = !0, averta.Ticker.remove(this.update, this) }, reset: function () { this.currentCount = 0, this.paused = !0, this.lastTime = Date.now() }, update: function () { this.paused || Date.now() - this.lastTime < this.delay || (this.currentCount++, this.lastTime = Date.now(), this.onTimer && this.onTimer.call(this.refrence, this.getTime())) }, getTime: function () { return this.delay * this.currentCount } } }(), function () { "use strict"; window.CSSTween = function (t, e, i, s) { this.$element = t, this.duration = e || 1e3, this.delay = i || 0, this.ease = s || "linear" }; var t = CSSTween.prototype; t.to = function (t, e) { return this.to_cb = t, this.to_cb_target = e, this }, t.from = function (t, e) { return this.fr_cb = t, this.fr_cb_target = e, this }, t.onComplete = function (t, e) { return this.oc_fb = t, this.oc_fb_target = e, this }, t.chain = function (t) { return this.chained_tween = t, this }, t.reset = function () { clearTimeout(this.start_to), clearTimeout(this.end_to) }, t.start = function () { var t = this.$element[0]; clearTimeout(this.start_to), clearTimeout(this.end_to), this.fresh = !0, this.fr_cb && (t.style[window._jcsspfx + "TransitionDuration"] = "0ms", this.fr_cb.call(this.fr_cb_target)); var e = this; return this.onTransComplete = function (i) { e.fresh && (e.reset(), t.style[window._jcsspfx + "TransitionDuration"] = "", t.style[window._jcsspfx + "TransitionProperty"] = "", t.style[window._jcsspfx + "TransitionTimingFunction"] = "", t.style[window._jcsspfx + "TransitionDelay"] = "", e.fresh = !1, e.chained_tween && e.chained_tween.start(), e.oc_fb && e.oc_fb.call(e.oc_fb_target)) }, this.start_to = setTimeout(function () { e.$element && (t.style[window._jcsspfx + "TransitionDuration"] = e.duration + "ms", t.style[window._jcsspfx + "TransitionProperty"] = e.transProperty || "all", e.delay > 0 ? t.style[window._jcsspfx + "TransitionDelay"] = e.delay + "ms" : t.style[window._jcsspfx + "TransitionDelay"] = "", t.style[window._jcsspfx + "TransitionTimingFunction"] = e.ease, e.to_cb && e.to_cb.call(e.to_cb_target), e.end_to = setTimeout(function () { e.onTransComplete() }, e.duration + (e.delay || 0))) }, 100), this } }(), function () { "use strict"; var t = null; function e(e, i) { if (void 0 !== i.x || void 0 !== i.y) if (t) { var s = window._jcsspfx + "Transform"; void 0 !== i.x && (i[s] = (i[s] || "") + " translateX(" + i.x + "px)", delete i.x), void 0 !== i.y && (i[s] = (i[s] || "") + " translateY(" + i.y + "px)", delete i.y) } else { if (void 0 !== i.x) i["auto" !== e.css("right") ? "right" : "left"] = i.x + "px", delete i.x; if (void 0 !== i.y) i["auto" !== e.css("bottom") ? "bottom" : "top"] = i.y + "px", delete i.y } return i } window.CTween = {}, CTween.setPos = function (t, i) { t.css(e(t, i)) }, CTween.animate = function (i, s, n, o) { if (null == t && (t = window._cssanim), o = o || {}, e(i, n), t) { var a = new CSSTween(i, s, o.delay, EaseDic[o.ease]); return o.transProperty && (a.transProperty = o.transProperty), a.to(function () { i.css(n) }), o.complete && a.onComplete(o.complete, o.target), a.start(), a.stop = a.reset, a } var r; return o.delay && i.delay(o.delay), o.complete && (r = function () { o.complete.call(o.target) }), i.stop(!0).animate(n, s, o.ease || "linear", r), i }, CTween.fadeOut = function (t, e, i) { var s = {}; !0 === i ? s.complete = function () { t.remove() } : 2 === i && (s.complete = function () { t.css("display", "none") }), CTween.animate(t, e || 1e3, { opacity: 0 }, s) }, CTween.fadeIn = function (t, e, i) { !1 !== i && t.css("opacity", 0).css("display", ""), CTween.animate(t, e || 1e3, { opacity: 1 }) } }(), window.EaseDic = { linear: "linear", ease: "ease", easeIn: "ease-in", easeOut: "ease-out", easeInOut: "ease-in-out", easeInCubic: "cubic-bezier(.55,.055,.675,.19)", easeOutCubic: "cubic-bezier(.215,.61,.355,1)", easeInOutCubic: "cubic-bezier(.645,.045,.355,1)", easeInCirc: "cubic-bezier(.6,.04,.98,.335)", easeOutCirc: "cubic-bezier(.075,.82,.165,1)", easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)", easeInExpo: "cubic-bezier(.95,.05,.795,.035)", easeOutExpo: "cubic-bezier(.19,1,.22,1)", easeInOutExpo: "cubic-bezier(1,0,0,1)", easeInQuad: "cubic-bezier(.55,.085,.68,.53)", easeOutQuad: "cubic-bezier(.25,.46,.45,.94)", easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)", easeInQuart: "cubic-bezier(.895,.03,.685,.22)", easeOutQuart: "cubic-bezier(.165,.84,.44,1)", easeInOutQuart: "cubic-bezier(.77,0,.175,1)", easeInQuint: "cubic-bezier(.755,.05,.855,.06)", easeOutQuint: "cubic-bezier(.23,1,.32,1)", easeInOutQuint: "cubic-bezier(.86,0,.07,1)", easeInSine: "cubic-bezier(.47,0,.745,.715)", easeOutSine: "cubic-bezier(.39,.575,.565,1)", easeInOutSine: "cubic-bezier(.445,.05,.55,.95)", easeInBack: "cubic-bezier(.6,-.28,.735,.045)", easeOutBack: "cubic-bezier(.175, .885,.32,1.275)", easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)" }, function () { "use strict"; window.MSAligner = function (t, e, i) { this.$container = e, this.$img = i, this.type = t || "stretch", this.widthOnly = !1, this.heightOnly = !1 }; var t = MSAligner.prototype; t.init = function (t, e) { switch (this.baseWidth = t, this.baseHeight = e, this.imgRatio = t / e, this.imgRatio2 = e / t, this.type) { case "tile": this.$container.css("background-image", "url(" + this.$img.attr("src") + ")"), this.$img.remove(); break; case "center": this.$container.css("background-image", "url(" + this.$img.attr("src") + ")"), this.$container.css({ backgroundPosition: "center center", backgroundRepeat: "no-repeat" }), this.$img.remove(); break; case "stretch": this.$img.css({ width: "100%", height: "100%" }); break; case "fill": case "fit": this.needAlign = !0, this.align() } }, t.align = function () { if (this.needAlign) { var t = this.$container.width(), e = this.$container.height(), i = t / e; "fill" == this.type ? this.imgRatio < i ? (this.$img.width(t), this.$img.height(t * this.imgRatio2)) : (this.$img.height(e), this.$img.width(e * this.imgRatio)) : "fit" == this.type && (this.imgRatio < i ? (this.$img.height(e), this.$img.width(e * this.imgRatio)) : (this.$img.width(t), this.$img.height(t * this.imgRatio2))), this.setMargin() } }, t.setMargin = function () { var t = this.$container.width(), e = this.$container.height(); this.$img.css("margin-top", (e - this.$img[0].offsetHeight) / 2 + "px"), this.$img.css("margin-left", (t - this.$img[0].offsetWidth) / 2 + "px") } }(), function () { "use strict"; var t = { bouncing: !0, snapping: !1, snapsize: null, friction: .05, outFriction: .05, outAcceleration: .09, minValidDist: .3, snappingMinSpeed: 2, paging: !1, endless: !1, maxSpeed: 160 }, e = function (e, i, s) { if (null === i || null === e) throw new Error("Max and Min values are required."); for (var n in this.options = s || {}, t) n in this.options || (this.options[n] = t[n]); this._max_value = i, this._min_value = e, this.value = e, this.end_loc = e, this.current_snap = this.getSnapNum(e), this.__extrStep = 0, this.__extraMove = 0, this.__animID = -1 }, i = e.prototype; i.changeTo = function (t, e, i, s, n) { if (this.stopped = !1, this._internalStop(), t = this._checkLimits(t), i = Math.abs(i || 0), this.options.snapping && (s = s || this.getSnapNum(t), !1 !== n && this._callsnapChange(s), this.current_snap = s), e) { this.animating = !0; var o = this, a = ++o.__animID, r = t - o.value, l = 0, h = t, d = 1 - o.options.friction, c = d + (i - 20) * d * 1.3 / o.options.maxSpeed, p = function () { if (a === o.__animID) { var e = t - o.value; if (!(Math.abs(e) > o.options.minValidDist && o.animating)) return o.animating && (o.value = t, o._callrenderer()), o.animating = !1, a !== o.__animID && (o.__animID = -1), void o._callonComplete("anim"); window.requestAnimationFrame(p), o.value = h - r * Math.exp(-++l * c), o._callrenderer() } }; p() } else this.value = t, this._callrenderer() }, i.drag = function (t) { this.start_drag && (this.drag_start_loc = this.value, this.start_drag = !1), this.animating = !1, this._deceleration = !1, this.value -= t, !this.options.endless && (this.value > this._max_value || this.value < 0) ? this.options.bouncing ? (this.__isout = !0, this.value += .6 * t) : this.value > this._max_value ? this.value = this._max_value : this.value = 0 : !this.options.endless && this.options.bouncing && (this.__isout = !1), this._callrenderer() }, i.push = function (t) { if (this.stopped = !1, this.options.snapping && Math.abs(t) <= this.options.snappingMinSpeed) this.cancel(); else { if (this.__speed = t, this.__startSpeed = t, this.end_loc = this._calculateEnd(), this.options.snapping) { var e = this.getSnapNum(this.value), i = this.getSnapNum(this.end_loc); if (this.options.paging) return e = this.getSnapNum(this.drag_start_loc), this.__isout = !1, void (t > 0 ? this.gotoSnap(e + 1, !0, t) : this.gotoSnap(e - 1, !0, t)); if (e === i) return void this.cancel(); this._callsnapChange(i), this.current_snap = i } this.animating = !1, this.__needsSnap = this.options.endless || this.end_loc > this._min_value && this.end_loc < this._max_value, this.options.snapping && this.__needsSnap && (this.__extraMove = this._calculateExtraMove(this.end_loc)), this._startDecelaration() } }, i.bounce = function (t) { this.animating || (this.stopped = !1, this.animating = !1, this.__speed = t, this.__startSpeed = t, this.end_loc = this._calculateEnd(), this._startDecelaration()) }, i.stop = function () { this.stopped = !0, this._internalStop() }, i.cancel = function () { this.start_drag = !0, this.__isout ? (this.__speed = 4e-4, this._startDecelaration()) : this.options.snapping && this.gotoSnap(this.getSnapNum(this.value), !0) }, i.renderCallback = function (t, e) { this.__renderHook = { fun: t, ref: e } }, i.snappingCallback = function (t, e) { this.__snapHook = { fun: t, ref: e } }, i.snapCompleteCallback = function (t, e) { this.__compHook = { fun: t, ref: e } }, i.getSnapNum = function (t) { return Math.floor((t + this.options.snapsize / 2) / this.options.snapsize) }, i.nextSnap = function () { this._internalStop(); var t = this.getSnapNum(this.value); !this.options.endless && (t + 1) * this.options.snapsize > this._max_value ? (this.__speed = 8, this.__needsSnap = !1, this._startDecelaration()) : this.gotoSnap(t + 1, !0) }, i.prevSnap = function () { this._internalStop(); var t = this.getSnapNum(this.value); !this.options.endless && (t - 1) * this.options.snapsize < this._min_value ? (this.__speed = -8, this.__needsSnap = !1, this._startDecelaration()) : this.gotoSnap(t - 1, !0) }, i.gotoSnap = function (t, e, i) { this.changeTo(t * this.options.snapsize, e, i, t) }, i.destroy = function () { this._internalStop(), this.__renderHook = null, this.__snapHook = null, this.__compHook = null }, i._internalStop = function () { this.start_drag = !0, this.animating = !1, this._deceleration = !1, this.__extrStep = 0 }, i._calculateExtraMove = function (t) { var e = t % this.options.snapsize; return e < this.options.snapsize / 2 ? -e : this.options.snapsize - e }, i._calculateEnd = function (t) { for (var e = this.__speed, i = this.value, s = 0; Math.abs(e) > this.options.minValidDist;)i += e, e *= this.options.friction, s++; return t ? s : i }, i._checkLimits = function (t) { return this.options.endless ? t : t < this._min_value ? this._min_value : t > this._max_value ? this._max_value : t }, i._callrenderer = function () { this.__renderHook && this.__renderHook.fun.call(this.__renderHook.ref, this, this.value) }, i._callsnapChange = function (t) { this.__snapHook && t !== this.current_snap && this.__snapHook.fun.call(this.__snapHook.ref, this, t, t - this.current_snap) }, i._callonComplete = function (t) { this.__compHook && !this.stopped && this.__compHook.fun.call(this.__compHook.ref, this, this.current_snap, t) }, i._computeDeceleration = function () { if (this.options.snapping && this.__needsSnap) { var t = (this.__startSpeed - this.__speed) / this.__startSpeed * this.__extraMove; this.value += this.__speed + t - this.__extrStep, this.__extrStep = t } else this.value += this.__speed; if (this.__speed *= this.options.friction, this.options.endless || this.options.bouncing || (this.value <= this._min_value ? (this.value = this._min_value, this.__speed = 0) : this.value >= this._max_value && (this.value = this._max_value, this.__speed = 0)), this._callrenderer(), !this.options.endless && this.options.bouncing) { var e = 0; this.value < this._min_value ? e = this._min_value - this.value : this.value > this._max_value && (e = this._max_value - this.value), this.__isout = Math.abs(e) >= this.options.minValidDist, this.__isout && (this.__speed * e <= 0 ? this.__speed += e * this.options.outFriction : this.__speed = e * this.options.outAcceleration) } }, i._startDecelaration = function () { if (!this._deceleration) { this._deceleration = !0; var t = this, e = function () { t._deceleration && (t._computeDeceleration(), Math.abs(t.__speed) > t.options.minValidDist || t.__isout ? window.requestAnimationFrame(e) : (t._deceleration = !1, t.__isout = !1, t.__needsSnap && t.options.snapping && !t.options.paging ? t.value = t._checkLimits(t.end_loc + t.__extraMove) : t.value = Math.round(t.value), t._callrenderer(), t._callonComplete("decel"))) }; e() } }, window.Controller = e }(), function (t, e, i) { t.MSLayerController = function (t) { this.slide = t, this.slider = t.slider, this.layers = [], this.layersLen = 0, this.preloadCount = 0, this.$layers = i("<div></div>").addClass("ms-slide-layers"), this.$staticLayers = i("<div></div>").addClass("ms-static-layers"), this.$fixedLayers = i("<div></div>").addClass("ms-fixed-layers"), this.$animLayers = i("<div></div>").addClass("ms-anim-layers") }; var s = MSLayerController.prototype; s.addLayer = function (t) { switch (t.slide = this.slide, t.controller = this, t.$element.data("position")) { case "static": this.hasStaticLayer = !0, t.$element.appendTo(this.$staticLayers); break; case "fixed": this.hasFixedLayer = !0, t.$element.appendTo(this.$fixedLayers); break; default: t.$element.appendTo(this.$animLayers) }t.create(), this.layers.push(t), this.layersLen++, t.parallax && (this.hasParallaxLayer = !0), t.needPreload && this.preloadCount++ }, s.create = function () { this.slide.$element.append(this.$layers), this.$layers.append(this.$animLayers), this.hasStaticLayer && this.$layers.append(this.$staticLayers), "center" == this.slider.options.layersMode && (this.$layers.css("max-width", this.slider.options.width + "px"), this.hasFixedLayer && this.$fixedLayers.css("max-width", this.slider.options.width + "px")) }, s.loadLayers = function (t) { if (this._onReadyCallback = t, 0 !== this.preloadCount) for (var e = 0; e !== this.layersLen; ++e)this.layers[e].needPreload && this.layers[e].loadImage(); else this._onlayersReady() }, s.prepareToShow = function () { this.hasParallaxLayer && this._enableParallaxEffect(), this.hasFixedLayer && this.$fixedLayers.prependTo(this.slide.view.$element) }, s.showLayers = function () { this.layersHideTween && this.layersHideTween.stop(!0), this.fixedLayersHideTween && this.fixedLayersHideTween.stop(!0), this._resetLayers(), this.$animLayers.css("opacity", "").css("display", ""), this.hasFixedLayer && this.$fixedLayers.css("opacity", "").css("display", ""), this.ready && (this._initLayers(), this._locateLayers(), this._startLayers()) }, s.hideLayers = function () { if (this.slide.selected || this.slider.options.instantStartLayers) { var t = this; t.layersHideTween = CTween.animate(this.$animLayers, 500, { opacity: 0 }, { complete: function () { t._resetLayers() } }), this.hasFixedLayer && (this.fixedLayersHideTween = CTween.animate(this.$fixedLayers, 500, { opacity: 0 }, { complete: function () { t.$fixedLayers.detach() } })), this.hasParallaxLayer && this._disableParallaxEffect() } }, s.animHideLayers = function () { if (this.ready) for (var t = 0; t !== this.layersLen; ++t)this.layers[t].hide() }, s.setSize = function (t, e, i) { if (this.ready && (this.slide.selected || this.hasStaticLayer) && (i && this._initLayers(!0), this._locateLayers(!this.slide.selected)), this.slider.options.autoHeight && this.updateHeight(), "center" == this.slider.options.layersMode) { var s = Math.max(0, (t - this.slider.options.width) / 2) + "px"; this.$layers[0].style.left = s, this.$fixedLayers[0].style.left = s } }, s.updateHeight = function () { var t = this.slide.getHeight() + "px"; this.$layers[0].style.height = t, this.$fixedLayers[0].style.height = t }, s._onlayersReady = function () { this.ready = !0, this.hasStaticLayer && !this.slide.isSleeping && this._initLayers(!1, !0), this._onReadyCallback.call(this.slide) }, s.onSlideSleep = function () { }, s.onSlideWakeup = function () { this.hasStaticLayer && this.ready && this._initLayers(!1, !0) }, s.destroy = function () { this.slide.selected && this.hasParallaxLayer && this._disableParallaxEffect(); for (var t = 0; t < this.layersLen; ++t)this.layers[t].$element.stop(!0).remove(); this.$layers.remove(), this.$staticLayers.remove(), this.$fixedLayers.remove(), this.$animLayers.remove() }, s._startLayers = function () { for (var t = 0; t !== this.layersLen; ++t)this.layers[t].start() }, s._initLayers = function (t, e) { if (!(this.init && !t || this.slider.init_safemode)) { this.init = !0 !== e; var i = 0; if (e && !this.staticsInit) for (this.staticsInit = !0; i !== this.layersLen; ++i)this.layers[i].staticLayer && this.layers[i].init(); else if (this.staticsInit && !t) for (; i !== this.layersLen; ++i)this.layers[i].staticLayer || this.layers[i].init(); else for (; i !== this.layersLen; ++i)this.layers[i].init() } }, s._locateLayers = function (t) { var e = 0; if (t) for (; e !== this.layersLen; ++e)this.layers[e].staticLayer && this.layers[e].locate(); else for (; e !== this.layersLen; ++e)this.layers[e].locate() }, s._resetLayers = function () { this.$animLayers.css("display", "none").css("opacity", 1); for (var t = 0; t !== this.layersLen; ++t)this.layers[t].reset() }, s._applyParallax = function (t, e, i) { for (var s = 0; s !== this.layersLen; ++s)null != this.layers[s].parallax && this.layers[s].moveParallax(t, e, i) }, s._enableParallaxEffect = function () { "swipe" === this.slider.options.parallaxMode ? this.slide.view.addEventListener(MSViewEvents.SCROLL, this._swipeParallaxMove, this) : this.slide.$element.on("mousemove", { that: this }, this._mouseParallaxMove).on("mouseleave", { that: this }, this._resetParalax) }, s._disableParallaxEffect = function () { "swipe" === this.slider.options.parallaxMode ? this.slide.view.removeEventListener(MSViewEvents.SCROLL, this._swipeParallaxMove, this) : this.slide.$element.off("mousemove", this._mouseParallaxMove).off("mouseleave", this._resetParalax) }, s._resetParalax = function (t) { t.data.that._applyParallax(0, 0) }, s._mouseParallaxMove = function (t) { var e = t.data.that, i = e.slide.$element.offset(), s = e.slider; if ("mouse:y-only" !== s.options.parallaxMode) var n = t.pageX - i.left - e.slide.__width / 2; else n = 0; if ("mouse:x-only" !== s.options.parallaxMode) var o = t.pageY - i.top - e.slide.__height / 2; else o = 0; e._applyParallax(-n, -o) }, s._swipeParallaxMove = function (t) { var e = this.slide.position - this.slide.view.__contPos; this._applyParallax(e, 0, !0) } }(window, document, jQuery), function (t) { window.MSLayerEffects = {}; var e, i = { opacity: 0 }; MSLayerEffects.setup = function () { if (!e) { e = !0; var s = MSLayerEffects, n = window._jcsspfx + "Transform", o = window._jcsspfx + "TransformOrigin", a = t.browser.opera; _2d = window._css2d && window._cssanim && !a, s.defaultValues = { left: 0, top: 0, opacity: isMSIE("<9") ? 1 : "", right: 0, bottom: 0 }, s.defaultValues[n] = "", s.rf = 1, s.presetEffParams = { random: "30|300", long: 300, short: 30, false: !1, true: !0, tl: "top left", bl: "bottom left", tr: "top right", br: "bottom right", rt: "top right", lb: "bottom left", lt: "top left", rb: "bottom right", t: "top", b: "bottom", r: "right", l: "left", c: "center" }, s.fade = function () { return i }, s.left = _2d ? function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i[n] = "translateX(" + -t * s.rf + "px)", i } : function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i.left = -t * s.rf + "px", i }, s.right = _2d ? function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i[n] = "translateX(" + t * s.rf + "px)", i } : function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i.left = t * s.rf + "px", i }, s.top = _2d ? function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i[n] = "translateY(" + -t * s.rf + "px)", i } : function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i.top = -t * s.rf + "px", i }, s.bottom = _2d ? function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i[n] = "translateY(" + t * s.rf + "px)", i } : function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i.top = t * s.rf + "px", i }, s.from = _2d ? function (t, e, i) { var o = !1 === i ? {} : { opacity: 0 }; return o[n] = "translateX(" + t * s.rf + "px) translateY(" + e * s.rf + "px)", o } : function (t, e, i) { var n = !1 === i ? {} : { opacity: 0 }; return n.top = e * s.rf + "px", n.left = t * s.rf + "px", n }, s.rotate = _2d ? function (t, e) { var i = { opacity: 0 }; return i[n] = " rotate(" + t + "deg)", e && (i[o] = e), i } : function (t, e) { return i }, s.rotateleft = _2d ? function (t, e, i, a) { var r = s.left(e, a); return r[n] += " rotate(" + t + "deg)", i && (r[o] = i), r } : function (t, e, i, n) { return s.left(e, n) }, s.rotateright = _2d ? function (t, e, i, a) { var r = s.right(e, a); return r[n] += " rotate(" + t + "deg)", i && (r[o] = i), r } : function (t, e, i, n) { return s.right(e, n) }, s.rotatetop = _2d ? function (t, e, i, a) { var r = s.top(e, a); return r[n] += " rotate(" + t + "deg)", i && (r[o] = i), r } : function (t, e, i, n) { return s.top(e, n) }, s.rotatebottom = _2d ? function (t, e, i, a) { var r = s.bottom(e, a); return r[n] += " rotate(" + t + "deg)", i && (r[o] = i), r } : function (t, e, i, n) { return s.bottom(e, n) }, s.rotatefrom = _2d ? function (t, e, i, a, r) { var l = s.from(e, i, r); return l[n] += " rotate(" + t + "deg)", a && (l[o] = a), l } : function (t, e, i, n, o) { return s.from(e, i, o) }, s.skewleft = _2d ? function (t, e, i) { var o = s.left(e, i); return o[n] += " skewX(" + t + "deg)", o } : function (t, e, i) { return s.left(e, i) }, s.skewright = _2d ? function (t, e, i) { var o = s.right(e, i); return o[n] += " skewX(" + -t + "deg)", o } : function (t, e, i) { return s.right(e, i) }, s.skewtop = _2d ? function (t, e, i) { var o = s.top(e, i); return o[n] += " skewY(" + t + "deg)", o } : function (t, e, i) { return s.top(e, i) }, s.skewbottom = _2d ? function (t, e, i) { var o = s.bottom(e, i); return o[n] += " skewY(" + -t + "deg)", o } : function (t, e, i) { return s.bottom(e, i) }, s.scale = _2d ? function (t, e, i, s) { var a = !1 === s ? {} : { opacity: 0 }; return a[n] = " scaleX(" + t + ") scaleY(" + e + ")", i && (a[o] = i), a } : function (t, e, i, s) { return !1 === s ? {} : { opacity: 0 } }, s.scaleleft = _2d ? function (t, e, i, a, r) { var l = s.left(i, r); return l[n] = " scaleX(" + t + ") scaleY(" + e + ")", a && (l[o] = a), l } : function (t, e, i, n, o) { return s.left(i, o) }, s.scaleright = _2d ? function (t, e, i, a, r) { var l = s.right(i, r); return l[n] = " scaleX(" + t + ") scaleY(" + e + ")", a && (l[o] = a), l } : function (t, e, i, n, o) { return s.right(i, o) }, s.scaletop = _2d ? function (t, e, i, a, r) { var l = s.top(i, r); return l[n] = " scaleX(" + t + ") scaleY(" + e + ")", a && (l[o] = a), l } : function (t, e, i, n, o) { return s.top(i, o) }, s.scalebottom = _2d ? function (t, e, i, a, r) { var l = s.bottom(i, r); return l[n] = " scaleX(" + t + ") scaleY(" + e + ")", a && (l[o] = a), l } : function (t, e, i, n, o) { return s.bottom(i, o) }, s.scalefrom = _2d ? function (t, e, i, a, r, l) { var h = s.from(i, a, l); return h[n] += " scaleX(" + t + ") scaleY(" + e + ")", r && (h[o] = r), h } : function (t, e, i, n, o, a) { return s.from(i, n, a) }, s.rotatescale = _2d ? function (t, e, i, a, r) { var l = s.scale(e, i, a, r); return l[n] += " rotate(" + t + "deg)", a && (l[o] = a), l } : function (t, e, i, n, o) { return s.scale(e, i, n, o) }, s.front = window._css3d ? function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i[n] = "perspective(2000px) translate3d(0 , 0 ," + t + "px ) rotate(0.001deg)", i } : function (t) { return i }, s.back = window._css3d ? function (t, e) { var i = !1 === e ? {} : { opacity: 0 }; return i[n] = "perspective(2000px) translate3d(0 , 0 ," + -t + "px ) rotate(0.001deg)", i } : function (t) { return i }, s.rotatefront = window._css3d ? function (t, e, i, s) { var a = !1 === s ? {} : { opacity: 0 }; return a[n] = "perspective(2000px) translate3d(0 , 0 ," + e + "px ) rotate(" + (t || .001) + "deg)", i && (a[o] = i), a } : function (t, e, s, n) { return i }, s.rotateback = window._css3d ? function (t, e, i, s) { var a = !1 === s ? {} : { opacity: 0 }; return a[n] = "perspective(2000px) translate3d(0 , 0 ," + -e + "px ) rotate(" + (t || .001) + "deg)", i && (a[o] = i), a } : function (t, e, s, n) { return i }, s.rotate3dleft = window._css3d ? function (t, e, i, a, r, l) { var h = s.left(a, l); return h[n] += (t ? " rotateX(" + t + "deg)" : " ") + (e ? " rotateY(" + e + "deg)" : "") + (i ? " rotateZ(" + i + "deg)" : ""), r && (h[o] = r), h } : function (t, e, i, n, o, a) { return s.left(n, a) }, s.rotate3dright = window._css3d ? function (t, e, i, a, r, l) { var h = s.right(a, l); return h[n] += (t ? " rotateX(" + t + "deg)" : " ") + (e ? " rotateY(" + e + "deg)" : "") + (i ? " rotateZ(" + i + "deg)" : ""), r && (h[o] = r), h } : function (t, e, i, n, o, a) { return s.right(n, a) }, s.rotate3dtop = window._css3d ? function (t, e, i, a, r, l) { var h = s.top(a, l); return h[n] += (t ? " rotateX(" + t + "deg)" : " ") + (e ? " rotateY(" + e + "deg)" : "") + (i ? " rotateZ(" + i + "deg)" : ""), r && (h[o] = r), h } : function (t, e, i, n, o, a) { return s.top(n, a) }, s.rotate3dbottom = window._css3d ? function (t, e, i, a, r, l) { var h = s.bottom(a, l); return h[n] += (t ? " rotateX(" + t + "deg)" : " ") + (e ? " rotateY(" + e + "deg)" : "") + (i ? " rotateZ(" + i + "deg)" : ""), r && (h[o] = r), h } : function (t, e, i, n, o, a) { return s.bottom(n, a) }, s.rotate3dfront = window._css3d ? function (t, e, i, a, r, l) { var h = s.front(a, l); return h[n] += (t ? " rotateX(" + t + "deg)" : " ") + (e ? " rotateY(" + e + "deg)" : "") + (i ? " rotateZ(" + i + "deg)" : ""), r && (h[o] = r), h } : function (t, e, i, n, o, a) { return s.front(n, a) }, s.rotate3dback = window._css3d ? function (t, e, i, a, r, l) { var h = s.back(a, l); return h[n] += (t ? " rotateX(" + t + "deg)" : " ") + (e ? " rotateY(" + e + "deg)" : "") + (i ? " rotateZ(" + i + "deg)" : ""), r && (h[o] = r), h } : function (t, e, i, n, o, a) { return s.back(n, a) }, s.t = window._css3d ? function (t, e, i, a, r, l, h, d, c, p, u, f, m, v, _) { var w = !1 === t ? {} : { opacity: 0 }, g = "perspective(2000px) "; "n" !== e && (g += "translateX(" + e * s.rf + "px) "), "n" !== i && (g += "translateY(" + i * s.rf + "px) "), "n" !== a && (g += "translateZ(" + a * s.rf + "px) "), "n" !== r && (g += "rotate(" + r + "deg) "), "n" !== l && (g += "rotateX(" + l + "deg) "), "n" !== h && (g += "rotateY(" + h + "deg) "), "n" !== d && (g += "rotateZ(" + d + "deg) "), "n" !== u && (g += "skewX(" + u + "deg) "), "n" !== f && (g += "skewY(" + f + "deg) "), "n" !== c && (g += "scaleX(" + c + ") "), "n" !== p && (g += "scaleY(" + p + ")"), w[n] = g; var S = ""; return S += "n" !== m ? m + "% " : "50% ", S += "n" !== v ? v + "% " : "50% ", S += "n" !== _ ? _ + "px" : "", w[o] = S, w } : function (t, e, i, n, o, a, r, l, h, d, c, p, u, f, m) { o = !1 === t ? {} : { opacity: 0 }; return "n" !== e && (o.left = e * s.rf + "px"), "n" !== i && (o.top = i * s.rf + "px"), o } } } }(jQuery), function (t) { window.MSLayerElement = function () { this.start_anim = { name: "fade", duration: 1e3, ease: "linear", delay: 0 }, this.end_anim = { duration: 1e3, ease: "linear" }, this.type = "text", this.resizable = !0, this.minWidth = -1, this.isVisible = !0, this.__cssConfig = ["margin-top", "padding-top", "margin-bottom", "padding-left", "margin-right", "padding-right", "margin-left", "padding-bottom", "font-size", "line-height", "width", "left", "right", "top", "bottom"], this.baseStyle = {} }; var e = MSLayerElement.prototype; e.setStartAnim = function (e) { t.extend(this.start_anim, e), t.extend(this.start_anim, this._parseEff(this.start_anim.name)), this.$element.css("visibility", "hidden") }, e.setEndAnim = function (e) { t.extend(this.end_anim, e) }, e.create = function () { if (this.$element.css("display", "none"), this.resizable = !1 !== this.$element.data("resize"), this.fixed = !0 === this.$element.data("fixed"), void 0 !== this.$element.data("widthlimit") && (this.minWidth = this.$element.data("widthlimit")), this.end_anim.name || (this.end_anim.name = this.start_anim.name), this.end_anim.time && (this.autoHide = !0), this.staticLayer = "static" === this.$element.data("position"), this.fixedLayer = "fixed" === this.$element.data("position"), this.layersCont = this.controller.$layers, this.staticLayer && this.$element.css("display", "").css("visibility", ""), void 0 !== this.$element.data("action")) { var e = this.slide.slider.slideController; this.$element.on("click", function (i) { e.runAction(t(this).data("action")), i.preventDefault() }).addClass("ms-action-layer") } t.extend(this.end_anim, this._parseEff(this.end_anim.name)), this.slider = this.slide.slider; var i = this.layerOrigin = this.$element.data("origin"); if (i) { var s = i.charAt(0), n = i.charAt(1), o = this.$element.data("offset-x"), a = this.$element.data("offset-y"); switch (void 0 === a && (a = 0), s) { case "t": this.$element[0].style.top = a + "px"; break; case "b": this.$element[0].style.bottom = a + "px"; break; case "m": this.$element[0].style.top = a + "px", this.middleAlign = !0 }switch (void 0 === o && (o = 0), n) { case "l": this.$element[0].style.left = o + "px"; break; case "r": this.$element[0].style.right = o + "px"; break; case "c": this.$element[0].style.left = o + "px", this.centerAlign = !0 } } this.parallax = this.$element.data("parallax"), null != this.parallax && (this.parallax /= 100, this.$parallaxElement = t("<div></div>").addClass("ms-parallax-layer"), this.link ? (this.link.wrap(this.$parallaxElement), this.$parallaxElement = this.link.parent()) : (this.$element.wrap(this.$parallaxElement), this.$parallaxElement = this.$element.parent()), this._lastParaX = 0, this._lastParaY = 0, this._paraX = 0, this._paraY = 0, this.alignedToBot = this.layerOrigin && -1 !== this.layerOrigin.indexOf("b"), this.alignedToBot && this.$parallaxElement.css("bottom", 0), window._css3d ? this.parallaxRender = this._parallaxCSS3DRenderer : window._css2d ? this.parallaxRender = this._parallaxCSS2DRenderer : this.parallaxRender = this._parallax2DRenderer, "swipe" !== this.slider.options.parallaxMode && averta.Ticker.add(this.parallaxRender, this)), t.removeDataAttrs(this.$element, ["data-src"]) }, e.init = function () { var t; this.initialized = !0, this.$element.css("visibility", ""); for (var e = 0, i = this.__cssConfig.length; e < i; e++) { var s = this.__cssConfig[e]; "text" === this.type && "width" === s ? t = this.$element[0].style.width : (t = this.$element.css(s), "width" !== s && "height" !== s || "0px" !== t || (t = this.$element.data(s) + "px")), "auto" != t && "" != t && "normal" != t && (this.baseStyle[s] = parseInt(t)) } this.middleAlign && (this.baseHeight = this.$element.outerHeight(!1)), this.centerAlign && (this.baseWidth = this.$element.outerWidth(!1)) }, e.locate = function () { if (this.slide.ready) { var t, e, i = parseFloat(this.layersCont.css("width")), s = parseFloat(this.layersCont.css("height")); for (var n in !this.staticLayer && "none" === this.$element.css("display") && this.isVisible && this.$element.css("display", "").css("visibility", "hidden"), t = this.resizeFactor = i / this.slide.slider.options.width, this.baseStyle) e = "top" === n || "left" === n || "bottom" === n || "right" === n, t = this.fixed && e ? 1 : this.resizeFactor, (this.resizable || e) && ("top" === n && this.middleAlign ? (this.$element[0].style.top = "0px", this.baseHeight = this.$element.outerHeight(!1), this.$element[0].style.top = this.baseStyle.top * t + (s - this.baseHeight) / 2 + "px") : "left" === n && this.centerAlign ? (this.$element[0].style.left = "0px", this.baseWidth = this.$element.outerWidth(!1), this.$element[0].style.left = this.baseStyle.left * t + (i - this.baseWidth) / 2 + "px") : this.$element.css(n, this.baseStyle[n] * t + "px")); this.visible(this.minWidth < i) } }, e.start = function () { if (!this.isShowing && !this.staticLayer) { var t, e; this.isShowing = !0, MSLayerEffects.rf = this.resizeFactor; var i = MSLayerEffects[this.start_anim.eff_name].apply(null, this._parseEffParams(this.start_anim.eff_params)), s = {}; for (t in i) this._checkPosKey(t, i) || (null != MSLayerEffects.defaultValues[t] && (s[t] = MSLayerEffects.defaultValues[t]), t in this.baseStyle && (e = this.baseStyle[t], this.middleAlign && "top" === t && (e += (parseInt(this.layersCont.height()) - this.$element.outerHeight(!1)) / 2), this.centerAlign && "left" === t && (e += (parseInt(this.layersCont.width()) - this.$element.outerWidth(!1)) / 2), i[t] = e + parseFloat(i[t]) + "px", s[t] = e + "px"), this.$element.css(t, i[t])); var n = this; clearTimeout(this.to), this.to = setTimeout(function () { n.$element.css("visibility", ""), n._playAnimation(n.start_anim, s) }, n.start_anim.delay || .01), this.clTo = setTimeout(function () { n.show_cl = !0 }, (this.start_anim.delay || .01) + this.start_anim.duration), this.autoHide && (clearTimeout(this.hto), this.hto = setTimeout(function () { n.hide() }, n.end_anim.time)) } }, e.hide = function () { if (!this.staticLayer) { this.isShowing = !1; var t = MSLayerEffects[this.end_anim.eff_name].apply(null, this._parseEffParams(this.end_anim.eff_params)); for (key in t) this._checkPosKey(key, t) || (key === window._jcsspfx + "TransformOrigin" && this.$element.css(key, t[key]), key in this.baseStyle && (t[key] = this.baseStyle[key] + parseFloat(t[key]) + "px")); this._playAnimation(this.end_anim, t), clearTimeout(this.to), clearTimeout(this.hto), clearTimeout(this.clTo) } }, e.reset = function () { this.staticLayer || (this.isShowing = !1, this.$element[0].style.display = "none", this.$element.css("opacity", ""), this.$element[0].style.transitionDuration = "", this.show_tween && this.show_tween.stop(!0), clearTimeout(this.to), clearTimeout(this.hto)) }, e.destroy = function () { this.reset(), this.$element.remove() }, e.visible = function (t) { this.isVisible != t && (this.isVisible = t, this.$element.css("display", t ? "" : "none")) }, e.moveParallax = function (t, e, i) { this._paraX = t, this._paraY = e, i && (this._lastParaX = t, this._lastParaY = e, this.parallaxRender()) }, e._playAnimation = function (t, e) { var i = {}; t.ease && (i.ease = t.ease), i.transProperty = window._csspfx + "transform,opacity", this.show_tween = CTween.animate(this.$element, t.duration, e, i) }, e._randomParam = function (t) { var e = Number(t.slice(0, t.indexOf("|"))), i = Number(t.slice(t.indexOf("|") + 1)); return e + Math.random() * (i - e) }, e._parseEff = function (t) { var e = []; if (-1 !== t.indexOf("(")) { var i, s = t.slice(0, t.indexOf("(")).toLowerCase(); e = t.slice(t.indexOf("(") + 1, -1).replace(/\"|\'|\s/g, "").split(","), t = s; for (var n = 0, o = e.length; n < o; ++n)(i = e[n]) in MSLayerEffects.presetEffParams && (i = MSLayerEffects.presetEffParams[i]), e[n] = i } return { eff_name: t, eff_params: e } }, e._parseEffParams = function (t) { for (var e = [], i = 0, s = t.length; i < s; ++i) { var n = t[i]; "string" == typeof n && -1 !== n.indexOf("|") && (n = this._randomParam(n)), e[i] = n } return e }, e._checkPosKey = function (t, e) { return "left" === t && !(t in this.baseStyle) && "right" in this.baseStyle ? (e.right = -parseInt(e.left) + "px", delete e.left, !0) : "top" === t && !(t in this.baseStyle) && "bottom" in this.baseStyle && (e.bottom = -parseInt(e.top) + "px", delete e.top, !0) }, e._parallaxCalc = function () { var t = this._paraX - this._lastParaX, e = this._paraY - this._lastParaY; this._lastParaX += t / 12, this._lastParaY += e / 12, Math.abs(t) < .019 && (this._lastParaX = this._paraX), Math.abs(e) < .019 && (this._lastParaY = this._paraY) }, e._parallaxCSS3DRenderer = function () { this._parallaxCalc(), this.$parallaxElement[0].style[window._jcsspfx + "Transform"] = "translateX(" + this._lastParaX * this.parallax + "px) translateY(" + this._lastParaY * this.parallax + "px) translateZ(0)" }, e._parallaxCSS2DRenderer = function () { this._parallaxCalc(), this.$parallaxElement[0].style[window._jcsspfx + "Transform"] = "translateX(" + this._lastParaX * this.parallax + "px) translateY(" + this._lastParaY * this.parallax + "px)" }, e._parallax2DRenderer = function () { this._parallaxCalc(), this.alignedToBot ? this.$parallaxElement[0].style.bottom = this._lastParaY * this.parallax + "px" : this.$parallaxElement[0].style.top = this._lastParaY * this.parallax + "px", this.$parallaxElement[0].style.left = this._lastParaX * this.parallax + "px" } }(jQuery), function (t) { window.MSImageLayerElement = function () { MSLayerElement.call(this), this.needPreload = !0, this.__cssConfig = ["width", "height", "margin-top", "padding-top", "margin-bottom", "padding-left", "margin-right", "padding-right", "margin-left", "padding-bottom", "left", "right", "top", "bottom"], this.type = "image" }, MSImageLayerElement.extend(MSLayerElement); var e = MSImageLayerElement.prototype, i = MSLayerElement.prototype; e.create = function () { if (this.link) { var e = this.$element.parent(); e.append(this.link), this.link.append(this.$element), this.link.removeClass("ms-layer"), this.$element.addClass("ms-layer"), e = null } if (i.create.call(this), null != this.$element.data("src")) this.img_src = this.$element.data("src"), this.$element.removeAttr("data-src"); else { var s = this; this.$element.on("load", function (t) { s.controller.preloadCount--, 0 === s.controller.preloadCount && s.controller._onlayersReady() }).each(t.jqLoadFix) } t.browser.msie && this.$element.on("dragstart", function (t) { t.preventDefault() }) }, e.loadImage = function () { var t = this; this.$element.preloadImg(this.img_src, function (e) { t.controller.preloadCount--, 0 === t.controller.preloadCount && t.controller._onlayersReady() }) } }(jQuery), function (t) { window.MSVideoLayerElement = function () { MSLayerElement.call(this), this.__cssConfig.push("height"), this.type = "video" }, MSVideoLayerElement.extend(MSLayerElement); var e = MSVideoLayerElement.prototype, i = MSLayerElement.prototype; e.__playVideo = function () { this.img && CTween.fadeOut(this.img, 500, 2), CTween.fadeOut(this.video_btn, 500, 2), this.video_frame.attr("src", "about:blank").css("display", "block"), -1 == this.video_url.indexOf("?") && (this.video_url += "?"), this.video_frame.attr("src", this.video_url + "&autoplay=1") }, e.start = function () { i.start.call(this), this.$element.data("autoplay") && this.__playVideo() }, e.reset = function () { i.reset.call(this), (this.needPreload || this.$element.data("btn")) && (this.video_btn.css("opacity", 1).css("display", "block"), this.video_frame.attr("src", "about:blank").css("display", "none")), this.needPreload ? this.img.css("opacity", 1).css("display", "block") : this.video_frame.attr("src", this.video_url) }, e.create = function () { i.create.call(this), this.video_frame = this.$element.find("iframe").css({ width: "100%", height: "100%" }), this.video_url = this.video_frame.attr("src"); var e = 0 != this.$element.has("img").length; if (e || this.$element.data("btn")) { this.video_frame.attr("src", "about:blank").css("display", "none"); var s = this; if (this.video_btn = t("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function () { s.__playVideo() }), e) { if (this.needPreload = !0, this.img = this.$element.find("img:first").addClass("ms-video-img"), void 0 !== this.img.data("src")) this.img_src = this.img.data("src"), this.img.removeAttr("data-src"); else { s = this; this.img.attr("src", this.img_src).on("load", function (t) { s.controller.preloadCount--, 0 === s.controller.preloadCount && s.controller._onlayersReady() }).each(t.jqLoadFix) } t.browser.msie && this.img.on("dragstart", function (t) { t.preventDefault() }) } } }, e.loadImage = function () { var t = this; this.img.preloadImg(this.img_src, function (e) { t.controller.preloadCount--, 0 === t.controller.preloadCount && t.controller._onlayersReady() }) } }(jQuery), function (t) { "use strict"; window.MSHotspotLayer = function () { MSLayerElement.call(this), this.__cssConfig = ["margin-top", "padding-top", "margin-bottom", "padding-left", "margin-right", "padding-right", "margin-left", "padding-bottom", "left", "right", "top", "bottom"], this.ease = "Expo", this.hide_start = !0, this.type = "hotspot" }, MSHotspotLayer.extend(MSLayerElement); var e = MSHotspotLayer.prototype, i = MSLayerElement.prototype; e._showTT = function () { this.show_cl && (clearTimeout(this.hto), this._tween && this._tween.stop(!0), this.hide_start && (this.align = this._orgAlign, this._locateTT(), this.tt.css({ display: "block" }), this._tween = CTween.animate(this.tt, 900, this.to, { ease: "easeOut" + this.ease }), this.hide_start = !1)) }, e._hideTT = function () { if (this.show_cl) { this._tween && this._tween.stop(!0); var t = this; clearTimeout(this.hto), this.hto = setTimeout(function () { t.hide_start = !0, t._tween = CTween.animate(t.tt, 900, t.from, { ease: "easeOut" + t.ease, complete: function () { t.tt.css("display", "none") } }) }, 200) } }, e._updateClassName = function (t) { this._lastClass && this.tt.removeClass(this._lastClass), this.tt.addClass(t), this._lastClass = t }, e._alignPolicy = function () { this.tt.outerHeight(!1); var t = Math.max(this.tt.outerWidth(!1), parseInt(this.tt.css("max-width"))), e = window.innerWidth; window.innerHeight; switch (this.align) { case "top": if (this.base_t < 0) return "bottom"; break; case "right": if (this.base_l + t > e || this.base_t < 0) return "bottom"; break; case "left": if (this.base_l < 0 || this.base_t < 0) return "bottom" }return null }, e._locateTT = function () { var t = this.$element.offset(), e = this.slide.slider.$element.offset(); this.pos_x = t.left - e.left - this.slide.slider.$element.scrollLeft(), this.pos_y = t.top - e.top - this.slide.slider.$element.scrollTop(), this.from = { opacity: 0 }, this.to = { opacity: 1 }, this._updateClassName("ms-tooltip-" + this.align), this.tt_arrow.css("margin-left", ""); switch (this.align) { case "top": var i = Math.min(this.tt.outerWidth(!1), parseInt(this.tt.css("max-width"))); this.base_t = this.pos_y - this.tt.outerHeight(!1) - 15 - 15, this.base_l = this.pos_x - i / 2, this.base_l + i > window.innerWidth && (this.tt_arrow.css("margin-left", -7.5 + this.base_l + i - window.innerWidth + "px"), this.base_l = window.innerWidth - i), this.base_l < 0 && (this.base_l = 0, this.tt_arrow.css("margin-left", -7.5 + this.pos_x - this.tt.outerWidth(!1) / 2 + "px")), window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateY(-50px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.top = this.base_t - 50 + "px", this.to.top = this.base_t + "px"); break; case "bottom": i = Math.min(this.tt.outerWidth(!1), parseInt(this.tt.css("max-width"))); this.base_t = this.pos_y + 15 + 15, this.base_l = this.pos_x - i / 2, this.base_l + i > window.innerWidth && (this.tt_arrow.css("margin-left", -7.5 + this.base_l + i - window.innerWidth + "px"), this.base_l = window.innerWidth - i), this.base_l < 0 && (this.base_l = 0, this.tt_arrow.css("margin-left", -7.5 + this.pos_x - this.tt.outerWidth(!1) / 2 + "px")), window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateY(50px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.top = this.base_t + 50 + "px", this.to.top = this.base_t + "px"); break; case "right": this.base_l = this.pos_x + 15 + 15, this.base_t = this.pos_y - this.tt.outerHeight(!1) / 2, window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateX(50px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.left = this.base_l + 50 + "px", this.to.left = this.base_l + "px"); break; case "left": this.base_l = this.pos_x - 15 - this.tt.outerWidth(!1) - 15, this.base_t = this.pos_y - this.tt.outerHeight(!1) / 2, window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateX(-50px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.left = this.base_l - 50 + "px", this.to.left = this.base_l + "px") }var s = this._alignPolicy(); if (null !== s) return this.align = s, void this._locateTT(); this.tt.css("top", parseInt(this.base_t) + "px").css("left", parseInt(this.base_l) + "px"), this.tt.css(this.from) }, e.start = function () { i.start.call(this), this.tt.appendTo(this.slide.slider.$element), this.tt.css("display", "none") }, e.reset = function () { i.reset.call(this), this.tt.detach() }, e.create = function () { var e = this; i.create.call(this), this._orgAlign = this.align = void 0 !== this.$element.data("align") ? this.$element.data("align") : "top", this.data = this.$element.html(), this.$element.html("").on("mouseenter", function () { e._showTT() }).on("mouseleave", function () { e._hideTT() }), this.point = t('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element); var s = this.$element.data("link"), n = this.$element.data("target"); s && this.point.on("click", function () { window.open(s, n || "_self") }), this.tt = t("<div></div>").addClass("ms-tooltip").css("display", "hidden").css("opacity", 0), void 0 !== this.$element.data("width") && this.tt.css("width", this.$element.data("width")).css("max-width", this.$element.data("width")), this.tt_arrow = t("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt), this._updateClassName("ms-tooltip-" + this.align), this.ttcont = t("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt), !0 === this.$element.data("stay-hover") && this.tt.on("mouseenter", function () { e.hide_start || (clearTimeout(e.hto), e._tween.stop(!0), e._showTT()) }).on("mouseleave", function () { e._hideTT() }) } }(jQuery), function (t) { window.MSButtonLayer = function () { MSLayerElement.call(this), this.type = "button" }, MSButtonLayer.extend(MSLayerElement); var e = MSButtonLayer.prototype, i = MSLayerElement.prototype, s = ["top", "left", "bottom", "right"]; e.create = function () { i.create.call(this), this.$element.wrap('<div class="ms-btn-container"></div>').css("position", "relative"), this.$container = this.$element.parent() }, e.locate = function () { var t, e; i.locate.call(this); for (var n = 0; n < 4; n++)(t = s[n]) in this.baseStyle && (e = this.$element.css(t), this.$element.css(t, ""), this.$container.css(t, e)); this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0)) } }(), window.MSSliderEvent = function (t) { this.type = t }, MSSliderEvent.CHANGE_START = "ms_changestart", MSSliderEvent.CHANGE_END = "ms_changeend", MSSliderEvent.WAITING = "ms_waiting", MSSliderEvent.AUTOPLAY_CHANGE = "ms_autoplaychange", MSSliderEvent.VIDEO_PLAY = "ms_videoPlay", MSSliderEvent.VIDEO_CLOSE = "ms_videoclose", MSSliderEvent.INIT = "ms_init", MSSliderEvent.HARD_UPDATE = "ms_hard_update", MSSliderEvent.RESIZE = "ms_resize", MSSliderEvent.RESERVED_SPACE_CHANGE = "ms_rsc", MSSliderEvent.DESTROY = "ms_destroy", function (t, e, i) { "use strict"; t.MSSlide = function () { this.$element = null, this.$loading = i("<div></div>").addClass("ms-slide-loading"), this.view = null, this.index = -1, this.__width = 0, this.__height = 0, this.fillMode = "fill", this.selected = !1, this.pselected = !1, this.autoAppend = !0, this.isSleeping = !0, this.moz = i.browser.mozilla }; var s = MSSlide.prototype; s.onSwipeStart = function () { this.link && (this.linkdis = !0), this.video && (this.videodis = !0) }, s.onSwipeMove = function (t) { var e = Math.max(Math.abs(t.data.distanceX), Math.abs(t.data.distanceY)); this.swipeMoved = e > 4 }, s.onSwipeCancel = function (t) { this.swipeMoved ? this.swipeMoved = !1 : (this.link && (this.linkdis = !1), this.video && (this.videodis = !1)) }, s.setupLayerController = function () { this.hasLayers = !0, this.layerController = new MSLayerController(this) }, s.assetsLoaded = function () { this.ready = !0, this.slider.api._startTimer(), (this.selected || this.pselected && this.slider.options.instantStartLayers) && (this.hasLayers && this.layerController.showLayers(), this.vinit && (this.bgvideo.play(), this.autoPauseBgVid || (this.bgvideo.currentTime = 0))), this.isSleeping || this.setupBG(), CTween.fadeOut(this.$loading, 300, !0), (0 === this.slider.options.preload || "all" === this.slider.options.preload) && this.index < this.view.slideList.length - 1 ? this.view.slideList[this.index + 1].loadImages() : "all" === this.slider.options.preload && this.index === this.view.slideList.length - 1 && this.slider._removeLoading() }, s.setBG = function (t) { this.hasBG = !0; var e = this; this.$imgcont = i("<div></div>").addClass("ms-slide-bgcont"), this.$element.append(this.$loading).append(this.$imgcont), this.$bg_img = i(t).css("visibility", "hidden"), this.$imgcont.append(this.$bg_img), this.bgAligner = new MSAligner(e.fillMode, e.$imgcont, e.$bg_img), this.bgAligner.widthOnly = this.slider.options.autoHeight, e.slider.options.autoHeight && (e.pselected || e.selected) && e.slider.setHeight(e.slider.options.height), void 0 !== this.$bg_img.data("src") ? (this.bg_src = this.$bg_img.data("src"), this.$bg_img.removeAttr("data-src")) : this.$bg_img.one("load", function (t) { e._onBGLoad(t) }).each(i.jqLoadFix) }, s.setupBG = function () { !this.initBG && this.bgLoaded && (this.initBG = !0, this.$bg_img.css("visibility", ""), this.bgWidth = this.bgNatrualWidth || this.$bg_img.width(), this.bgHeight = this.bgNatrualHeight || this.$bg_img.height(), CTween.fadeIn(this.$imgcont, 300), this.slider.options.autoHeight && this.$imgcont.height(this.bgHeight * this.ratio), this.bgAligner.init(this.bgWidth, this.bgHeight), this.setSize(this.__width, this.__height), this.slider.options.autoHeight && (this.pselected || this.selected) && this.slider.setHeight(this.getHeight())) }, s.loadImages = function () { if (!this.ls) { if (this.ls = !0, this.bgvideo && this.bgvideo.load(), this.hasBG && this.bg_src) { var t = this; this.$bg_img.preloadImg(this.bg_src, function (e) { t._onBGLoad(e) }) } this.hasLayers && this.layerController.loadLayers(this._onLayersLoad), this.hasBG || this.hasLayers || this.assetsLoaded() } }, s._onLayersLoad = function () { this.layersLoaded = !0, this.bgLoaded && this.assetsLoaded() }, s._onBGLoad = function (t) { this.bgNatrualWidth = t.width, this.bgNatrualHeight = t.height, this.bgLoaded = !0, i.browser.msie && this.$bg_img.on("dragstart", function (t) { t.preventDefault() }), this.hasLayers && !this.layerController.ready || this.assetsLoaded() }, s.setBGVideo = function (e) { if (e[0].play) if (t._mobile) e.remove(); else { this.bgvideo = e[0]; var s = this; e.addClass("ms-slide-bgvideo"), !1 !== e.data("loop") && this.bgvideo.addEventListener("ended", function () { s.bgvideo.play() }), !1 !== e.data("mute") && (this.bgvideo.muted = !0), !0 === e.data("autopause") && (this.autoPauseBgVid = !0), this.bgvideo_fillmode = e.data("fill-mode") || "fill", "none" !== this.bgvideo_fillmode && (this.bgVideoAligner = new MSAligner(this.bgvideo_fillmode, this.$element, e), this.bgvideo.addEventListener("loadedmetadata", function () { s.vinit || (s.vinit = !0, s.video_aspect = s.bgVideoAligner.baseHeight / s.bgVideoAligner.baseWidth, s.bgVideoAligner.init(s.bgvideo.videoWidth, s.bgvideo.videoHeight), s._alignBGVideo(), CTween.fadeIn(i(s.bgvideo), 200), s.selected && s.bgvideo.play()) })), e.css("opacity", 0), this.$bgvideocont = i("<div></div>").addClass("ms-slide-bgvideocont").append(e), this.hasBG ? this.$imgcont.before(this.$bgvideocont) : this.$bgvideocont.appendTo(this.$element) } }, s._alignBGVideo = function () { this.bgvideo_fillmode && "none" !== this.bgvideo_fillmode && this.bgVideoAligner.align() }, s.setSize = function (t, e, i) { this.__width = t, this.slider.options.autoHeight && (this.bgLoaded ? (this.ratio = this.__width / this.bgWidth, e = Math.floor(this.ratio * this.bgHeight), this.$imgcont.height(e)) : (this.ratio = t / this.slider.options.width, e = this.slider.options.height * this.ratio)), this.__height = e, this.$element.width(t).height(e), this.hasBG && this.bgLoaded && this.bgAligner.align(), this._alignBGVideo(), this.hasLayers && this.layerController.setSize(t, e, i) }, s.getHeight = function () { return this.hasBG && this.bgLoaded ? this.bgHeight * this.ratio : Math.max(this.$element[0].clientHeight, this.slider.options.height * this.ratio) }, s.__playVideo = function () { this.vplayed || this.videodis || (this.vplayed = !0, this.slider.api.paused || (this.slider.api.pause(), this.roc = !0), this.vcbtn.css("display", ""), CTween.fadeOut(this.vpbtn, 500, !1), CTween.fadeIn(this.vcbtn, 500), CTween.fadeIn(this.vframe, 500), this.vframe.css("display", "block").attr("src", this.video + "&autoplay=1"), this.view.$element.addClass("ms-def-cursor"), this.view.swipeControl && this.view.swipeControl.disable(), this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY))) }, s.__closeVideo = function () { if (this.vplayed) { this.vplayed = !1, this.roc && this.slider.api.resume(); var t = this; CTween.fadeIn(this.vpbtn, 500), CTween.animate(this.vcbtn, 500, { opacity: 0 }, { complete: function () { t.vcbtn.css("display", "none") } }), CTween.animate(this.vframe, 500, { opacity: 0 }, { complete: function () { t.vframe.attr("src", "about:blank").css("display", "none") } }), this.view.swipeControl && this.view.swipeControl.enable(), this.view.$element.removeClass("ms-def-cursor"), this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE)) } }, s.create = function () { var e = this; this.hasLayers && this.layerController.create(), this.link && this.link.addClass("ms-slide-link").html("").click(function (t) { e.linkdis && t.preventDefault() }), this.video && (-1 === this.video.indexOf("?") && (this.video += "?"), this.vframe = i("<iframe></iframe>").addClass("ms-slide-video").css({ width: "100%", height: "100%", display: "none" }).attr("src", "about:blank").attr("allowfullscreen", "true").appendTo(this.$element), this.vpbtn = i("<div></div>").addClass("ms-slide-vpbtn").click(function () { e.__playVideo() }).appendTo(this.$element), this.vcbtn = i("<div></div>").addClass("ms-slide-vcbtn").click(function () { e.__closeVideo() }).appendTo(this.$element).css("display", "none"), t._touch && this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())), !this.slider.options.autoHeight && this.hasBG && (this.$imgcont.css("height", "100%"), "center" !== this.fillMode && "stretch" !== this.fillMode || (this.fillMode = "fill")), this.slider.options.autoHeight && this.$element.addClass("ms-slide-auto-height"), this.sleep(!0) }, s.destroy = function () { this.hasLayers && (this.layerController.destroy(), this.layerController = null), this.$element.remove(), this.$element = null }, s.prepareToSelect = function () { this.pselected || this.selected || (this.pselected = !0, (this.link || this.video) && (this.view.addEventListener(MSViewEvents.SWIPE_START, this.onSwipeStart, this), this.view.addEventListener(MSViewEvents.SWIPE_MOVE, this.onSwipeMove, this), this.view.addEventListener(MSViewEvents.SWIPE_CANCEL, this.onSwipeCancel, this), this.linkdis = !1, this.swipeMoved = !1), this.loadImages(), this.hasLayers && this.layerController.prepareToShow(), this.ready && (this.bgvideo && this.bgvideo.play(), this.hasLayers && this.slider.options.instantStartLayers && this.layerController.showLayers()), this.moz && this.$element.css("margin-top", "")) }, s.select = function () { this.selected || (this.selected = !0, this.pselected = !1, this.$element.addClass("ms-sl-selected"), this.hasLayers && (this.slider.options.autoHeight && this.layerController.updateHeight(), this.slider.options.instantStartLayers || this.layerController.showLayers()), this.ready && this.bgvideo && this.bgvideo.play(), this.videoAutoPlay && (this.videodis = !1, this.vpbtn.trigger("click"))) }, s.unselect = function () { this.pselected = !1, this.moz && this.$element.css("margin-top", "0.1px"), (this.link || this.video) && (this.view.removeEventListener(MSViewEvents.SWIPE_START, this.onSwipeStart, this), this.view.removeEventListener(MSViewEvents.SWIPE_MOVE, this.onSwipeMove, this), this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL, this.onSwipeCancel, this)), this.bgvideo && (this.bgvideo.pause(), !this.autoPauseBgVid && this.vinit && (this.bgvideo.currentTime = 0)), this.hasLayers && this.layerController.hideLayers(), this.selected && (this.selected = !1, this.$element.removeClass("ms-sl-selected"), this.video && this.vplayed && (this.__closeVideo(), this.roc = !1)) }, s.sleep = function (t) { this.isSleeping && !t || (this.isSleeping = !0, this.autoAppend && this.$element.detach(), this.hasLayers && this.layerController.onSlideSleep()) }, s.wakeup = function () { this.isSleeping && (this.isSleeping = !1, this.autoAppend && this.view.$slideCont.append(this.$element), this.moz && this.$element.css("margin-top", "0.1px"), this.setupBG(), this.hasBG && this.bgAligner.align(), this.hasLayers && this.layerController.onSlideWakeup()) } }(window, document, jQuery), function (t) { "use strict"; var e = {}; window.MSSlideController = function (t) { this._delayProgress = 0, this._timer = new averta.Timer(100), this._timer.onTimer = this.onTimer, this._timer.refrence = this, this.currentSlide = null, this.slider = t, this.so = t.options, averta.EventDispatcher.call(this) }, MSSlideController.registerView = function (t, i) { if (t in e) throw new Error(t + ", is already registered."); e[t] = i }, MSSlideController.SliderControlList = {}, MSSlideController.registerControl = function (t, e) { if (t in MSSlideController.SliderControlList) throw new Error(t + ", is already registered."); MSSlideController.SliderControlList[t] = e }; var i = MSSlideController.prototype; i.setupView = function () { var i = this; this.resize_listener = function () { i.__resize() }; var s = { spacing: this.so.space, mouseSwipe: this.so.mouse, loop: this.so.loop, autoHeight: this.so.autoHeight, swipe: this.so.swipe, speed: this.so.speed, dir: this.so.dir, viewNum: this.so.inView, critMargin: this.so.critMargin }; this.so.viewOptions && t.extend(s, this.so.viewOptions), this.so.autoHeight && (this.so.heightLimit = !1); var n = e[this.slider.options.view] || MSBasicView; if (!n._3dreq || window._css3d && !t.browser.msie || (n = n._fallback || MSBasicView), this.view = new n(s), this.so.overPause) { i = this; this.slider.$element.mouseenter(function () { i.is_over = !0, i._stopTimer() }).mouseleave(function () { i.is_over = !1, i._startTimer() }) } }, i.onChangeStart = function () { this.change_started = !0, this.currentSlide && this.currentSlide.unselect(), this.currentSlide = this.view.currentSlide, this.currentSlide.prepareToSelect(), this.so.endPause && this.currentSlide.index === this.slider.slides.length - 1 && (this.pause(), this.skipTimer()), this.so.autoHeight && this.slider.setHeight(this.currentSlide.getHeight()), this.so.deepLink && this.__updateWindowHash(), this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START)) }, i.onChangeEnd = function () { if (this.change_started = !1, this._startTimer(), this.currentSlide.select(), this.so.preload > 1) { var t, e, i = this.so.preload - 1; for (e = 1; e <= i; ++e) { if ((t = this.view.index + e) >= this.view.slideList.length) { if (!this.so.loop) { e = i; continue } t -= this.view.slideList.length } this.view.slideList[t].loadImages() } for (i > this.view.slideList.length / 2 && (i = Math.floor(this.view.slideList.length / 2)), e = 1; e <= i; ++e) { if ((t = this.view.index - e) < 0) { if (!this.so.loop) { e = i; continue } t = this.view.slideList.length + t } this.view.slideList[t].loadImages() } } this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END)) }, i.onSwipeStart = function () { this.skipTimer() }, i.skipTimer = function () { this._timer.reset(), this._delayProgress = 0, this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING)) }, i.onTimer = function (t) { if (this._timer.getTime() >= 1e3 * this.view.currentSlide.delay && (this.skipTimer(), this.view.next(), this.hideCalled = !1), this._delayProgress = this._timer.getTime() / (10 * this.view.currentSlide.delay), this.so.hideLayers && !this.hideCalled && 1e3 * this.view.currentSlide.delay - this._timer.getTime() <= 300) { var e = this.view.currentSlide; e.hasLayers && e.layerController.animHideLayers(), this.hideCalled = !0 } this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING)) }, i._stopTimer = function () { this._timer && this._timer.stop() }, i._startTimer = function () { this.paused || this.is_over || !this.currentSlide || !this.currentSlide.ready || this.change_started || this._timer.start() }, i.__appendSlides = function () { for (var t, e, i = 0, s = this.view.slideList.length - 1; i < s; ++i)(t = this.view.slideList[i]).detached || (t.$element.detach(), t.detached = !0); for (this.view.appendSlide(this.view.slideList[this.view.index]), s = 3, i = 1; i <= s; ++i) { if ((e = this.view.index + i) >= this.view.slideList.length) { if (!this.so.loop) { i = s; continue } e -= this.view.slideList.length } (t = this.view.slideList[e]).detached = !1, this.view.appendSlide(t) } for (s > this.view.slideList.length / 2 && (s = Math.floor(this.view.slideList.length / 2)), i = 1; i <= s; ++i) { if ((e = this.view.index - i) < 0) { if (!this.so.loop) { i = s; continue } e = this.view.slideList.length + e } (t = this.view.slideList[e]).detached = !1, this.view.appendSlide(t) } }, i.__resize = function (t) { this.created && (this.width = this.slider.$element[0].clientWidth || this.so.width, this.so.fullwidth || (this.width = Math.min(this.width, this.so.width)), this.so.fullheight ? (this.so.heightLimit = !1, this.so.autoHeight = !1, this.height = this.slider.$element[0].clientHeight) : this.height = this.width / this.slider.aspect, this.so.autoHeight ? (this.currentSlide.setSize(this.width, null, t), this.view.setSize(this.width, this.currentSlide.getHeight(), t)) : this.view.setSize(this.width, this.so.heightLimit ? Math.min(this.height, this.so.height) : this.height, t), this.slider.$controlsCont && this.so.centerControls && this.so.fullwidth && this.view.$element.css("left", Math.min(0, -(this.slider.$element[0].clientWidth - this.so.width) / 2) + "px"), this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE))) }, i.__dispatchInit = function () { this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT)) }, i.__updateWindowHash = function () { var t = window.location.hash, e = this.so.deepLink, i = this.so.deepLinkType, s = "path" === i ? "/" : "=", n = "path" === i ? "/" : "&", o = e + s + (this.view.index + 1), a = new RegExp(e + s + "[0-9]+", "g"); "" === t ? window.location.hash = n + o : a.test(t) ? window.location.hash = t.replace(a, o) : window.location.hash = t + n + o }, i.__curentSlideInHash = function () { var t = window.location.hash, e = this.so.deepLink, i = this.so.deepLinkType, s = new RegExp(e + ("path" === i ? "/" : "=") + "[0-9]+", "g"); if (s.test(t)) { var n = Number(t.match(s)[0].match(/[0-9]+/g).pop()); if (!isNaN(n)) return n - 1 } return -1 }, i.__onHashChanged = function () { var t = this.__curentSlideInHash(); -1 !== t && this.gotoSlide(t) }, i.setup = function () { this.created = !0, this.paused = !this.so.autoplay, this.view.addEventListener(MSViewEvents.CHANGE_START, this.onChangeStart, this), this.view.addEventListener(MSViewEvents.CHANGE_END, this.onChangeEnd, this), this.view.addEventListener(MSViewEvents.SWIPE_START, this.onSwipeStart, this), this.currentSlide = this.view.slideList[this.so.start - 1], this.__resize(); var e = this.__curentSlideInHash(), i = -1 !== e ? e : this.so.start - 1; if (this.view.create(i), 0 === this.so.preload && this.view.slideList[0].loadImages(), this.scroller = this.view.controller, this.so.wheel) { var s = this, n = (new Date).getTime(); this.wheellistener = function (e) { var i = window.event || e.orginalEvent || e; i.preventDefault(); var o = (new Date).getTime(); if (!(o - n < 400)) { n = o; var a = Math.abs(i.detail || i.wheelDelta); t.browser.mozilla && (a *= 100); return i.detail < 0 || i.wheelDelta > 0 ? a >= 15 && s.previous(!0) : a >= 15 && s.next(!0), !1 } }, t.browser.mozilla ? this.slider.$element[0].addEventListener("DOMMouseScroll", this.wheellistener) : this.slider.$element.bind("mousewheel", this.wheellistener) } 0 === this.slider.$element[0].clientWidth && (this.slider.init_safemode = !0), this.__resize(); s = this; this.so.deepLink && t(window).on("hashchange", function () { s.__onHashChanged() }) }, i.index = function () { return this.view.index }, i.count = function () { return this.view.slidesCount }, i.next = function (t) { this.skipTimer(), this.view.next(t) }, i.previous = function (t) { this.skipTimer(), this.view.previous(t) }, i.gotoSlide = function (t) { t = Math.min(t, this.count() - 1), this.skipTimer(), this.view.gotoSlide(t) }, i.destroy = function (t) { this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)), this.slider.destroy(t) }, i._destroy = function () { this._timer.reset(), this._timer = null, t(window).unbind("resize", this.resize_listener), this.view.destroy(), this.view = null, this.so.wheel && (t.browser.mozilla ? this.slider.$element[0].removeEventListener("DOMMouseScroll", this.wheellistener) : this.slider.$element.unbind("mousewheel", this.wheellistener), this.wheellistener = null), this.so = null }, i.runAction = function (t) { var e = []; if (-1 !== t.indexOf("(")) { var i = t.slice(0, t.indexOf("(")); e = t.slice(t.indexOf("(") + 1, -1).replace(/\"|\'|\s/g, "").split(","), t = i } t in this ? this[t].apply(this, e) : console && console.log('Master Slider Error: Action "' + t + '" not found.') }, i.scrollToEnd = function (e) { var i = this.slider.$element; null == e && (e = 1.4), t("html, body").animate({ scrollTop: i.offset().top + i.outerHeight(!1) }, 1e3 * e, "easeInOutQuad") }, i.update = function (t) { this.slider.init_safemode && t && (this.slider.init_safemode = !1), this.__resize(t), t && this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE)) }, i.locate = function () { this.__resize() }, i.resume = function () { this.paused && (this.paused = !1, this._startTimer()) }, i.pause = function () { this.paused || (this.paused = !0, this._stopTimer()) }, i.currentTime = function () { return this._delayProgress }, averta.EventDispatcher.extend(i) }(jQuery), function (t) { "use strict"; var e = { image: MSImageLayerElement, text: MSLayerElement, video: MSVideoLayerElement, hotspot: MSHotspotLayer, button: MSButtonLayer }; window.Multislider = function () { this.options = { autoplay: !1, loop: !1, mouse: !0, swipe: !0, grabCursor: !0, space: 0, fillMode: "fill", start: 1, view: "basic", width: 300, height: 150, inView: 15, critMargin: 1, heightLimit: !0, smoothHeight: !0, autoHeight: !1, fullwidth: !1, fullheight: !1, autofill: !1, layersMode: "center", hideLayers: !1, endPause: !1, centerControls: !0, overPause: !0, shuffle: !1, speed: 17, dir: "h", preload: 0, wheel: !1, layout: "boxed", fullscreenMargin: 0, instantStartLayers: !1, parallaxMode: "mouse", rtl: !1, deepLink: null, deepLinkType: "path", disablePlugins: [] }, this.slides = [], this.activePlugins = [], this.$element = null, this.lastMargin = 0, this.leftSpace = 0, this.topSpace = 0, this.rightSpace = 0, this.bottomSpace = 0, this._holdOn = 0; var e = this; this.resize_listener = function () { e._resize() }, t(window).bind("resize", this.resize_listener) }, Multislider.author = "Averta Ltd. (www.averta.net)", Multislider.version = "2.12.3", Multislider.releaseDate = "Apr 2015", Multislider._plugins = []; var i = Multislider; i.registerPlugin = function (t) { -1 === i._plugins.indexOf(t) && i._plugins.push(t) }; var s = Multislider.prototype; s.__setupSlides = function () { var e, i = this, s = 0; this.$element.children(".ms-slide").each(function (n) { var o = t(this); (e = new MSSlide).$element = o, e.slider = i, e.delay = void 0 !== o.data("delay") ? o.data("delay") : 3, e.fillMode = void 0 !== o.data("fill-mode") ? o.data("fill-mode") : i.options.fillMode, e.index = s++; var a = o.children("img:not(.ms-layer)"); a.length > 0 && e.setBG(a[0]); var r = o.children("video"); if (r.length > 0 && e.setBGVideo(r), i.controls) for (var l = 0, h = i.controls.length; l < h; ++l)i.controls[l].slideAction(e); o.children("a").each(function (i) { var s = t(this); "video" === this.getAttribute("data-type") ? (e.video = this.getAttribute("href"), e.videoAutoPlay = s.data("autoplay"), s.remove()) : s.hasClass("ms-layer") || (e.link = t(this)) }); i.__createSlideLayers(e, o.find(".ms-layer")), i.slides.push(e), i.slideController.view.addSlide(e) }) }, s.__createSlideLayers = function (i, s) { 0 != s.length && (i.setupLayerController(), s.each(function (s, n) { var o, a = t(this); "A" === n.nodeName && "image" === a.find(">img").data("type") && (a = (o = t(this)).find("img")); var r = new (e[a.data("type") || "text"]); r.$element = a, r.link = o; var l = {}, h = {}; void 0 !== a.data("effect") && (l.name = a.data("effect")), void 0 !== a.data("ease") && (l.ease = a.data("ease")), void 0 !== a.data("duration") && (l.duration = a.data("duration")), void 0 !== a.data("delay") && (l.delay = a.data("delay")), a.data("hide-effect") && (h.name = a.data("hide-effect")), a.data("hide-ease") && (h.ease = a.data("hide-ease")), void 0 !== a.data("hide-duration") && (h.duration = a.data("hide-duration")), void 0 !== a.data("hide-time") && (h.time = a.data("hide-time")), r.setStartAnim(l), r.setEndAnim(h), i.layerController.addLayer(r) })) }, s._removeLoading = function () { t(window).unbind("resize", this.resize_listener), this.$element.removeClass("before-init").css("visibility", "visible").css("height", "").css("opacity", 0), CTween.fadeIn(this.$element), this.$loading.remove(), this.slideController && this.slideController.__resize() }, s._resize = function (t) { if (this.$loading) { var e = this.$loading[0].clientWidth / this.aspect; e = this.options.heightLimit ? Math.min(e, this.options.height) : e, this.$loading.height(e), this.$element.height(e) } }, s._shuffleSlides = function () { for (var t, e = this.$element.children(".ms-slide"), i = 0, s = e.length; i < s; ++i)i != (t = Math.floor(Math.random() * (s - 1))) && (this.$element[0].insertBefore(e[i], e[t]), e = this.$element.children(".ms-slide")) }, s._setupSliderLayout = function () { this._updateSideMargins(), this.lastMargin = this.leftSpace; var e = this.options.layout; "boxed" !== e && "partialview" !== e && (this.options.fullwidth = !0), "fullscreen" !== e && "autofill" !== e || (this.options.fullheight = !0), "partialview" === e && this.$element.addClass("ms-layout-partialview"), "fullscreen" !== e && "fullwidth" !== e || (t(window).bind("resize", { that: this }, this._updateLayout), this._updateLayout()), t(window).bind("resize", this.slideController.resize_listener) }, s._updateLayout = function (e) { var i = e ? e.data.that : this, s = i.options.layout, n = i.$element; "fullscreen" === s && (document.body.style.overflow = "hidden", n.height(t(window).height() - i.options.fullscreenMargin - i.topSpace - i.bottomSpace), document.body.style.overflow = ""), n.width(t("body").width() - i.leftSpace - i.rightSpace); var o = -n.offset().left + i.leftSpace + i.lastMargin; n.css("margin-left", o), i.lastMargin = o }, s._init = function () { if (!(this._holdOn > 0) && this._docReady) { if (this.initialized = !0, "all" !== this.options.preload && this._removeLoading(), this.options.shuffle && this._shuffleSlides(), MSLayerEffects.setup(), this.slideController.setupView(), this.view = this.slideController.view, this.$controlsCont = t("<div></div>").addClass("ms-inner-controls-cont"), this.options.centerControls && this.$controlsCont.css("max-width", this.options.width + "px"), this.$controlsCont.prepend(this.view.$element), this.$msContainer = t("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont), this.controls) for (var e = 0, i = this.controls.length; e < i; ++e)this.controls[e].setup(); if (this._setupSliderLayout(), this.__setupSlides(), this.slideController.setup(), this.controls) for (e = 0, i = this.controls.length; e < i; ++e)this.controls[e].create(); if (this.options.autoHeight && this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()), this.options.swipe && !window._touch && this.options.grabCursor && this.options.mouse) { var s = this.view.$element; s.mousedown(function () { s.removeClass("ms-grab-cursor"), s.addClass("ms-grabbing-cursor"), t.browser.msie && window.ms_grabbing_curosr && (s[0].style.cursor = "url(" + window.ms_grabbing_curosr + "), move") }).addClass("ms-grab-cursor"), t(document).mouseup(function () { s.removeClass("ms-grabbing-cursor"), s.addClass("ms-grab-cursor"), t.browser.msie && window.ms_grab_curosr && (s[0].style.cursor = "url(" + window.ms_grab_curosr + "), move") }) } this.slideController.__dispatchInit() } }, s.setHeight = function (t) { this.options.smoothHeight ? (this.htween && (this.htween.reset ? this.htween.reset() : this.htween.stop(!0)), this.htween = CTween.animate(this.slideController.view.$element, 500, { height: t }, { ease: "easeOutQuart" })) : this.slideController.view.$element.height(t) }, s.reserveSpace = function (t, e) { var i = t + "Space", s = this[i]; return this[i] += e, this._updateSideMargins(), s }, s._updateSideMargins = function () { this.$element.css("margin", this.topSpace + "px " + this.rightSpace + "px " + this.bottomSpace + "px " + this.leftSpace + "px") }, s._realignControls = function () { this.rightSpace = this.leftSpace = this.topSpace = this.bottomSpace = 0, this._updateSideMargins(), this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE)) }, s.control = function (t, e) { if (t in MSSlideController.SliderControlList) { this.controls || (this.controls = []); var i = new MSSlideController.SliderControlList[t](e); return i.slider = this, this.controls.push(i), this } }, s.holdOn = function () { this._holdOn++ }, s.release = function () { this._holdOn--, this._init() }, s.setup = function (e, s) { if (this.$element = "string" == typeof e ? t("#" + e) : e.eq(0), this.setupMarkup = this.$element.html(), 0 !== this.$element.length) { this.$element.addClass("edsms__multiSlider").addClass("before-init"), t.browser.msie ? this.$element.addClass("ms-ie").addClass("ms-ie" + t.browser.version.slice(0, t.browser.version.indexOf("."))) : t.browser.webkit ? this.$element.addClass("ms-wk") : t.browser.mozilla && this.$element.addClass("ms-moz"), navigator.userAgent.toLowerCase().indexOf("android") > -1 && this.$element.addClass("ms-android"); var n = this; t.extend(this.options, s), this.aspect = this.options.width / this.options.height, this.$loading = t("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(t("<div></div>").addClass("ms-loading")), this.$loading.parent().css("position", "relative"), this.options.autofill && (this.options.fullwidth = !0, this.options.fullheight = !0), this.options.fullheight && this.$element.addClass("ms-fullheight"), this._resize(), this.slideController = new MSSlideController(this), this.api = this.slideController; for (var o = 0, a = i._plugins.length; o !== a; o++) { var r = i._plugins[o]; -1 === this.options.disablePlugins.indexOf(r.name) && this.activePlugins.push(new r(this)) } return t(document).ready(function () { n._docReady = !0, n._init() }), this } }, s.destroy = function (e) { for (var i = 0, s = this.activePlugins.length; i !== s; i++)this.activePlugins[i].destroy(); if (this.controls) for (i = 0, s = this.controls.length; i !== s; i++)this.controls[i].destroy(); this.slideController && this.slideController._destroy(), this.$loading && this.$loading.remove(), e ? this.$element.html(this.setupMarkup).css("visibility", "hidden") : this.$element.remove(); var n = this.options.layout; "fullscreen" !== n && "fullwidth" !== n || t(window).unbind("resize", this._updateLayout), this.view = null, this.slides = null, this.options = null, this.slideController = null, this.api = null, this.resize_listener = null, this.activePlugins = null } }(jQuery), function (t, e, i, s) { var n = "masterslider", o = { controls: {} }; function a(e, i) { this.element = e, this.$element = t(e), this.settings = t.extend({}, o, i), this._defaults = o, this._name = n, this.init() } t.extend(a.prototype, { init: function () { var t = this; for (var e in this._slider = new Multislider, this.settings.controls) this._slider.control(e, this.settings.controls[e]); this._slider.setup(this.$element, this.settings); var i = this._slider.api.dispatchEvent; this._slider.api.dispatchEvent = function (e) { t.$element.trigger(e.type), i.call(this, e) } }, api: function () { return this._slider.api }, slider: function () { return this._slider } }), t.fn[n] = function (e) { var i, s = arguments, o = "plugin_" + n; return void 0 === e || "object" == typeof e ? this.each(function () { t.data(this, o) || t.data(this, o, new a(this, e)) }) : "string" == typeof e && "_" !== e[0] && "init" !== e ? (this.each(function () { var n = t.data(this, o); n instanceof a && "function" == typeof n[e] && (i = n[e].apply(n, Array.prototype.slice.call(s, 1))), n instanceof a && "function" == typeof n._slider.api[e] && (i = n._slider.api[e].apply(n._slider.api, Array.prototype.slice.call(s, 1))), "destroy" === e && t.data(this, o, null) }), void 0 !== i ? i : this) : void 0 } }(jQuery, window, document), window.MSViewEvents = function (t, e) { this.type = t, this.data = e }, MSViewEvents.SWIPE_START = "swipeStart", MSViewEvents.SWIPE_END = "swipeEnd", MSViewEvents.SWIPE_MOVE = "swipeMove", MSViewEvents.SWIPE_CANCEL = "swipeCancel", MSViewEvents.SCROLL = "scroll", MSViewEvents.CHANGE_START = "slideChangeStart", MSViewEvents.CHANGE_END = "slideChangeEnd", function (t) { "use strict"; window.MSBasicView = function (e) { this.options = { loop: !1, dir: "h", autoHeight: !1, spacing: 5, mouseSwipe: !0, swipe: !0, speed: 17, minSlideSpeed: 2, viewNum: 20, critMargin: 1 }, t.extend(this.options, e), this.dir = this.options.dir, this.loop = this.options.loop, this.spacing = this.options.spacing, this.__width = 0, this.__height = 0, this.__cssProb = "h" === this.dir ? "left" : "top", this.__offset = "h" === this.dir ? "offsetLeft" : "offsetTop", this.__dimension = "h" === this.dir ? "__width" : "__height", this.__translate_end = window._css3d ? " translateZ(0px)" : "", this.$slideCont = t("<div></div>").addClass("ms-slide-container"), this.$element = t("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont), this.currentSlide = null, this.index = -1, this.slidesCount = 0, this.slides = [], this.slideList = [], this.viewSlidesList = [], this.css3 = window._cssanim, this.start_buffer = 0, this.firstslide_snap = 0, this.slideChanged = !1, this.controller = new Controller(0, 0, { snapping: !0, snapsize: 100, paging: !0, snappingMinSpeed: this.options.minSlideSpeed, friction: (100 - .5 * this.options.speed) / 100, endless: this.loop }), this.controller.renderCallback("h" === this.dir ? this._horizUpdate : this._vertiUpdate, this), this.controller.snappingCallback(this.__snapUpdate, this), this.controller.snapCompleteCallback(this.__snapCompelet, this), averta.EventDispatcher.call(this) }; var e = MSBasicView.prototype; e.__snapCompelet = function (t, e) { this.slideChanged && (this.slideChanged = !1, this.__locateSlides(), this.start_buffer = 0, this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END))) }, e.__snapUpdate = function (e, i, s) { if (this.loop) { var n = this.index + s; this.updateLoop(n), n >= this.slidesCount && (n -= this.slidesCount), n < 0 && (n = this.slidesCount + n), this.index = n } else { if (i < 0 || i >= this.slidesCount) return; this.index = i } this._checkCritMargins(), t.browser.mozilla && (this.slideList[this.index].$element[0].style.marginTop = "0.1px", this.currentSlide && (this.currentSlide.$element[0].style.marginTop = "")); var o = this.slideList[this.index]; o !== this.currentSlide && (this.currentSlide = o, this.autoUpdateZIndex && this.__updateSlidesZindex(), this.slideChanged = !0, this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START))) }, e._checkCritMargins = function () { if (!this.normalMode) { var t = Math.floor(this.options.viewNum / 2), e = this.viewSlidesList.indexOf(this.slideList[this.index]), i = this[this.__dimension] + this.spacing, s = this.options.critMargin; this.loop ? (e <= s || e >= this.viewSlidesList.length - s) && (i *= e - t, this.__locateSlides(!1, i + this.start_buffer), this.start_buffer += i) : (e < s && this.index >= s || e >= this.viewSlidesList.length - s && this.index < this.slidesCount - s) && this.__locateSlides(!1) } }, e._vertiUpdate = function (t, e) { this.__contPos = e, this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)), this.css3 ? this.$slideCont[0].style[window._jcsspfx + "Transform"] = "translateY(" + -e + "px)" + this.__translate_end : this.$slideCont[0].style.top = -e + "px" }, e._horizUpdate = function (t, e) { this.__contPos = e, this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)), this.css3 ? this.$slideCont[0].style[window._jcsspfx + "Transform"] = "translateX(" + -e + "px)" + this.__translate_end : this.$slideCont[0].style.left = -e + "px" }, e.__updateViewList = function () { if (this.normalMode) this.viewSlidesList = this.slides; else { var t = this.viewSlidesList.slice(); this.viewSlidesList = []; var e, i = 0, s = Math.floor(this.options.viewNum / 2); if (this.loop) for (; i !== this.options.viewNum; i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc - s + i]); else { for (i = 0; i !== s && this.index - i != -1; i++)this.viewSlidesList.unshift(this.slideList[this.index - i]); for (i = 1; i !== s && this.index + i !== this.slidesCount; i++)this.viewSlidesList.push(this.slideList[this.index + i]) } for (i = 0, e = t.length; i !== e; i++)-1 === this.viewSlidesList.indexOf(t[i]) && t[i].sleep(); t = null, this.currentSlide && this.__updateSlidesZindex() } }, e.__locateSlides = function (t, e) { this.__updateViewList(), e = this.loop ? e || 0 : this.slides.indexOf(this.viewSlidesList[0]) * (this[this.__dimension] + this.spacing); for (var i, s = this.viewSlidesList.length, n = 0; n !== s; n++) { var o = e + n * (this[this.__dimension] + this.spacing); (i = this.viewSlidesList[n]).wakeup(), i.position = o, i.$element[0].style[this.__cssProb] = o + "px" } !1 !== t && this.controller.changeTo(this.slideList[this.index].position, !1, null, null, !1) }, e.__createLoopList = function () { var t = [], e = 0, i = this.slidesCount / 2, s = this.slidesCount % 2 == 0 ? i - 1 : Math.floor(i), n = this.slidesCount % 2 == 0 ? i : Math.floor(i); for (this.currentSlideLoc = s, e = 1; e <= s; ++e)t.unshift(this.slideList[this.index - e < 0 ? this.slidesCount - e + this.index : this.index - e]); for (t.push(this.slideList[this.index]), e = 1; e <= n; ++e)t.push(this.slideList[this.index + e >= this.slidesCount ? this.index + e - this.slidesCount : this.index + e]); return t }, e.__getSteps = function (t, e) { var i = e < t ? this.slidesCount - t + e : e - t, s = Math.abs(this.slidesCount - i); return i < s ? i : -s }, e.__pushEnd = function () { var t = this.slides.shift(), e = this.slides[this.slidesCount - 2]; if (this.slides.push(t), this.normalMode) { var i = e.$element[0][this.__offset] + this.spacing + this[this.__dimension]; t.$element[0].style[this.__cssProb] = i + "px", t.position = i } }, e.__pushStart = function () { var t = this.slides.pop(), e = this.slides[0]; if (this.slides.unshift(t), this.normalMode) { var i = e.$element[0][this.__offset] - this.spacing - this[this.__dimension]; t.$element[0].style[this.__cssProb] = i + "px", t.position = i } }, e.__updateSlidesZindex = function () { var t = this.viewSlidesList.length; Math.floor(t / 2); if (this.loop) for (var e = this.viewSlidesList.indexOf(this.currentSlide), i = 0; i !== t; i++)this.viewSlidesList[i], this.viewSlidesList[i].$element.css("z-index", i <= e ? i + 1 : t - i); else { var s = this.currentSlide.index - this.viewSlidesList[0].index; for (i = 0; i !== t; i++)this.viewSlidesList[i].$element.css("z-index", i <= s ? i + 1 : t - i); this.currentSlide.$element.css("z-index", t) } }, e.addSlide = function (t) { t.view = this, this.slides.push(t), this.slideList.push(t), this.slidesCount++ }, e.appendSlide = function (t) { this.$slideCont.append(t.$element) }, e.updateLoop = function (t) { if (this.loop) for (var e = this.__getSteps(this.index, t), i = 0, s = Math.abs(e); i < s; ++i)e < 0 ? this.__pushStart() : this.__pushEnd() }, e.gotoSlide = function (t, e) { this.updateLoop(t), this.index = t; var i = this.slideList[t]; this._checkCritMargins(), this.controller.changeTo(i.position, !e, null, null, !1), i !== this.currentSlide && (this.slideChanged = !0, this.currentSlide = i, this.autoUpdateZIndex && this.__updateSlidesZindex(), this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)), e && this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END))) }, e.next = function (t) { t && !this.loop && this.index + 1 >= this.slidesCount ? this.controller.bounce(10) : this.gotoSlide(this.index + 1 >= this.slidesCount ? 0 : this.index + 1) }, e.previous = function (t) { t && !this.loop && this.index - 1 < 0 ? this.controller.bounce(-10) : this.gotoSlide(this.index - 1 < 0 ? this.slidesCount - 1 : this.index - 1) }, e.setupSwipe = function () { this.swipeControl = new averta.TouchSwipe(this.$element), this.swipeControl.swipeType = "h" === this.dir ? "horizontal" : "vertical"; var t = this; "h" === this.dir ? this.swipeControl.onSwipe = function (e) { t.horizSwipeMove(e) } : this.swipeControl.onSwipe = function (e) { t.vertSwipeMove(e) } }, e.vertSwipeMove = function (t) { var e = t.phase; if ("start" === e) this.controller.stop(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START, t)); else if ("move" === e && (!this.loop || Math.abs(this.currentSlide.position - this.controller.value + t.moveY) < this.cont_size / 2)) this.controller.drag(t.moveY), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE, t)); else if ("end" === e || "cancel" === e) { var i = t.distanceY / t.duration * 50 / 3; Math.abs(i) > .1 ? (this.controller.push(-i), i > this.controller.options.snappingMinSpeed && this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END, t))) : (this.controller.cancel(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL, t))) } }, e.horizSwipeMove = function (t) { var e = t.phase; if ("start" === e) this.controller.stop(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START, t)); else if ("move" === e && (!this.loop || Math.abs(this.currentSlide.position - this.controller.value + t.moveX) < this.cont_size / 2)) this.controller.drag(t.moveX), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE, t)); else if ("end" === e || "cancel" === e) { var i = t.distanceX / t.duration * 50 / 3; Math.abs(i) > .1 ? (this.controller.push(-i), i > this.controller.options.snappingMinSpeed && this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END, t))) : (this.controller.cancel(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL, t))) } }, e.setSize = function (t, e, i) { if (this.lastWidth !== t || e !== this.lastHeight || i) { this.$element.width(t).height(e); for (var s = 0; s < this.slidesCount; ++s)this.slides[s].setSize(t, e, i); this.__width = t, this.__height = e, this.__created && (this.__locateSlides(), this.cont_size = (this.slidesCount - 1) * (this[this.__dimension] + this.spacing), this.loop || (this.controller._max_value = this.cont_size), this.controller.options.snapsize = this[this.__dimension] + this.spacing, this.controller.changeTo(this.currentSlide.position, !1, null, null, !1), this.controller.cancel(), this.lastWidth = t, this.lastHeight = e) } }, e.create = function (t) { this.__created = !0, this.index = Math.min(t || 0, this.slidesCount - 1), this.lastSnap = this.index, this.loop && (this.slides = this.__createLoopList()), this.normalMode = this.slidesCount <= this.options.viewNum; for (var e = 0; e < this.slidesCount; ++e)this.slides[e].create(); this.__locateSlides(), this.controller.options.snapsize = this[this.__dimension] + this.spacing, this.loop || (this.controller._max_value = (this.slidesCount - 1) * (this[this.__dimension] + this.spacing)), this.gotoSlide(this.index, !0), this.options.swipe && (window._touch || this.options.mouseSwipe) && this.setupSwipe() }, e.destroy = function () { if (this.__created) { for (var t = 0; t < this.slidesCount; ++t)this.slides[t].destroy(); this.slides = null, this.slideList = null, this.$element.remove(), this.controller.destroy(), this.controller = null } }, averta.EventDispatcher.extend(e), MSSlideController.registerView("basic", MSBasicView) }(jQuery), function (t) { "use strict"; window.MSWaveView = function (t) { MSBasicView.call(this, t), this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"), this.$slideCont.css(window._csspfx + "transform-style", "preserve-3d"), this.autoUpdateZIndex = !0 }, MSWaveView.extend(MSBasicView), MSWaveView._3dreq = !0, MSWaveView._fallback = MSBasicView; var e = MSWaveView.prototype, i = MSBasicView.prototype; e._horizUpdate = function (t, e) { i._horizUpdate.call(this, t, e); for (var s, n, o = -e, a = 0; a < this.slidesCount; ++a)n = -o - (s = this.slideList[a]).position, this.__updateSlidesHoriz(s, n) }, e._vertiUpdate = function (t, e) { i._vertiUpdate.call(this, t, e); for (var s, n, o = -e, a = 0; a < this.slidesCount; ++a)n = -o - (s = this.slideList[a]).position, this.__updateSlidesVertic(s, n) }, e.__updateSlidesHoriz = function (t, e) { var i = Math.abs(100 * e / this.__width); t.$element.css(window._csspfx + "transform", "translateZ(" + 3 * -i + "px) rotateY(0.01deg)") }, e.__updateSlidesVertic = function (t, e) { this.__updateSlidesHoriz(t, e) }, MSSlideController.registerView("wave", MSWaveView) }(), function () { window.MSFadeBasicView = function (t) { MSWaveView.call(this, t), this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view") }, MSFadeBasicView.extend(MSWaveView); var t = MSFadeBasicView.prototype; MSFadeBasicView.prototype; t.__updateSlidesHoriz = function (t, e) { var i = Math.abs(.6 * e / this.__width); i = 1 - Math.min(i, .6), t.$element.css("opacity", i) }, t.__updateSlidesVertic = function (t, e) { this.__updateSlidesHoriz(t, e) }, MSSlideController.registerView("fadeBasic", MSFadeBasicView), MSWaveView._fallback = MSFadeBasicView }(), function () { window.MSFadeWaveView = function (t) { MSWaveView.call(this, t), this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view") }, MSFadeWaveView.extend(MSWaveView), MSFadeWaveView._3dreq = !0, MSFadeWaveView._fallback = MSFadeBasicView; var t = MSFadeWaveView.prototype; MSWaveView.prototype; t.__updateSlidesHoriz = function (t, e) { var i = Math.abs(100 * e / this.__width); i = Math.min(i, 100), t.$element.css("opacity", 1 - i / 300), t.$element[0].style[window._jcsspfx + "Transform"] = "scale(" + (1 - i / 800) + ") rotateY(0.01deg) " }, t.__updateSlidesVertic = function (t, e) { this.__updateSlidesHoriz(t, e) }, MSSlideController.registerView("fadeWave", MSFadeWaveView) }(), function (t) { "use strict"; window.MSFlowView = function (t) { MSWaveView.call(this, t), this.$element.removeClass("ms-wave-view").addClass("ms-flow-view") }, MSFlowView.extend(MSWaveView), MSFlowView._3dreq = !0, MSFlowView._fallback = MSFadeBasicView; var e = MSFlowView.prototype; MSWaveView.prototype; e.__updateSlidesHoriz = function (t, e) { var i = Math.abs(100 * e / this.__width), s = Math.min(.3 * i, 30) * (e < 0 ? -1 : 1), n = 1.2 * i; t.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + 5 * -n + "px) rotateY(" + s + "deg) " }, e.__updateSlidesVertic = function (t, e) { var i = Math.abs(100 * e / this.__width), s = Math.min(.3 * i, 30) * (e < 0 ? -1 : 1), n = 1.2 * i; t.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + 5 * -n + "px) rotateX(" + -s + "deg) " }, MSSlideController.registerView("flow", MSFlowView) }(), function () { window.MSFadeFlowView = function (t) { MSWaveView.call(this, t), this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view") }, MSFadeFlowView.extend(MSWaveView), MSFadeFlowView._3dreq = !0; var t = MSFadeFlowView.prototype; MSWaveView.prototype; t.__calculate = function (t) { var e = Math.min(Math.abs(100 * t / this.__width), 100); return { value: e, rvalue: Math.min(.5 * e, 50) * (t < 0 ? -1 : 1) } }, t.__updateSlidesHoriz = function (t, e) { var i = this.__calculate(e); t.$element.css("opacity", 1 - i.value / 300), console.log(window._jcsspfx + "transform", "translateZ(" + -i.value + "px) rotateY(" + i.rvalue + "deg) "), t.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + -i.value + "px) rotateY(" + i.rvalue + "deg) " }, t.__updateSlidesVertic = function (t, e) { var i = this.__calculate(e); t.$element.css("opacity", 1 - i.value / 300), t.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + -i.value + "px) rotateX(" + -i.rvalue + "deg) " }, MSSlideController.registerView("fadeFlow", MSFadeFlowView) }(), function (t) { "use strict"; window.MSMaskView = function (t) { MSBasicView.call(this, t), this.$element.removeClass("ms-basic-view").addClass("ms-mask-view") }, MSMaskView.extend(MSBasicView); var e = MSMaskView.prototype, i = MSBasicView.prototype; e.addSlide = function (e) { e.view = this, e.$frame = t("<div></div>").addClass("ms-mask-frame").append(e.$element), e.$element[0].style.position = "relative", e.autoAppend = !1, this.slides.push(e), this.slideList.push(e), this.slidesCount++ }, e.setSize = function (t, e) { for (var s = this.slides[0].slider, n = 0; n < this.slidesCount; ++n)this.slides[n].$frame[0].style.width = t + "px", s.options.autoHeight || (this.slides[n].$frame[0].style.height = e + "px"); i.setSize.call(this, t, e) }, e._horizUpdate = function (t, e) { i._horizUpdate.call(this, t, e); var s = 0; if (this.css3) for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style[window._jcsspfx + "Transform"] = "translateX(" + (e - this.slideList[s].position) + "px)" + this.__translate_end; else for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style.left = e - this.slideList[s].position + "px" }, e._vertiUpdate = function (t, e) { i._vertiUpdate.call(this, t, e); var s = 0; if (this.css3) for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style[window._jcsspfx + "Transform"] = "translateY(" + (e - this.slideList[s].position) + "px)" + this.__translate_end; else for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style.top = e - this.slideList[s].position + "px" }, e.__pushEnd = function () { var t = this.slides.shift(), e = this.slides[this.slidesCount - 2]; if (this.slides.push(t), this.normalMode) { var i = e.$frame[0][this.__offset] + this.spacing + this[this.__dimension]; t.$frame[0].style[this.__cssProb] = i + "px", t.position = i } }, e.__pushStart = function () { var t = this.slides.pop(), e = this.slides[0]; if (this.slides.unshift(t), this.normalMode) { var i = e.$frame[0][this.__offset] - this.spacing - this[this.__dimension]; t.$frame[0].style[this.__cssProb] = i + "px", t.position = i } }, e.__updateViewList = function () { if (this.normalMode) this.viewSlidesList = this.slides; else { var t = this.viewSlidesList.slice(); this.viewSlidesList = []; var e, i = 0, s = Math.floor(this.options.viewNum / 2); if (this.loop) for (; i !== this.options.viewNum; i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc - s + i]); else { for (i = 0; i !== s && this.index - i != -1; i++)this.viewSlidesList.unshift(this.slideList[this.index - i]); for (i = 1; i !== s && this.index + i !== this.slidesCount; i++)this.viewSlidesList.push(this.slideList[this.index + i]) } for (i = 0, e = t.length; i !== e; i++)-1 === this.viewSlidesList.indexOf(t[i]) && (t[i].sleep(), t[i].$frame.detach()); t = null } }, e.__locateSlides = function (t, e) { this.__updateViewList(), e = this.loop ? e || 0 : this.slides.indexOf(this.viewSlidesList[0]) * (this[this.__dimension] + this.spacing); for (var i, s = this.viewSlidesList.length, n = 0; n !== s; n++) { var o = e + n * (this[this.__dimension] + this.spacing); if (i = this.viewSlidesList[n], this.$slideCont.append(i.$frame), i.wakeup(!1), i.position = o, i.selected && i.bgvideo) try { i.bgvideo.play() } catch (t) { } i.$frame[0].style[this.__cssProb] = o + "px" } !1 !== t && this.controller.changeTo(this.slideList[this.index].position, !1, null, null, !1) }, MSSlideController.registerView("mask", MSMaskView) }(jQuery), function (t) { "use strict"; window.MSParallaxMaskView = function (t) { MSMaskView.call(this, t), this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view") }, MSParallaxMaskView.extend(MSMaskView), MSParallaxMaskView.parallaxAmount = .5; var e = MSParallaxMaskView.prototype, i = MSBasicView.prototype; e._horizUpdate = function (t, e) { i._horizUpdate.call(this, t, e); var s = 0; if (this.css3) for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style[window._jcsspfx + "Transform"] = "translateX(" + (e - this.slideList[s].position) * MSParallaxMaskView.parallaxAmount + "px)" + this.__translate_end; else for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style.left = (e - this.slideList[s].position) * MSParallaxMaskView.parallaxAmount + "px" }, e._vertiUpdate = function (t, e) { i._vertiUpdate.call(this, t, e); var s = 0; if (this.css3) for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style[window._jcsspfx + "Transform"] = "translateY(" + (e - this.slideList[s].position) * MSParallaxMaskView.parallaxAmount + "px)" + this.__translate_end; else for (s = 0; s < this.slidesCount; ++s)this.slideList[s].$element[0].style.top = (e - this.slideList[s].position) * MSParallaxMaskView.parallaxAmount + "px" }, MSSlideController.registerView("parallaxMask", MSParallaxMaskView) }(), function (t) { "use strict"; window.MSFadeView = function (t) { MSBasicView.call(this, t), this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"), this.controller.renderCallback(this.__update, this) }, MSFadeView.extend(MSBasicView); var e = MSFadeView.prototype, i = MSBasicView.prototype; e.__update = function (t, e) { for (var i, s, n = -e, o = 0; o < this.slidesCount; ++o)s = -n - (i = this.slideList[o]).position, this.__updateSlides(i, s) }, e.__updateSlides = function (t, e) { var i = Math.abs(e / this[this.__dimension]); 1 - i <= 0 ? t.$element.fadeTo(0, 0).css("visibility", "hidden") : t.$element.fadeTo(0, 1 - i).css("visibility", "") }, e.__locateSlides = function (t, e) { this.__updateViewList(), e = this.loop ? e || 0 : this.slides.indexOf(this.viewSlidesList[0]) * (this[this.__dimension] + this.spacing); for (var i, s = this.viewSlidesList.length, n = 0; n !== s; n++) { var o = e + n * this[this.__dimension]; (i = this.viewSlidesList[n]).wakeup(), i.position = o } !1 !== t && this.controller.changeTo(this.slideList[this.index].position, !1, null, null, !1) }, e.__pushEnd = function () { var t = this.slides.shift(), e = this.slides[this.slidesCount - 2]; this.slides.push(t), t.position = e.position + this[this.__dimension] }, e.__pushStart = function () { var t = this.slides.pop(), e = this.slides[0]; this.slides.unshift(t), t.position = e.position - this[this.__dimension] }, e.create = function (t) { i.create.call(this, t), this.spacing = 0, this.controller.options.minValidDist = 10 }, MSSlideController.registerView("fade", MSFadeView) }(), function (t) { "use strict"; window.MSScaleView = function (t) { MSBasicView.call(this, t), this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"), this.controller.renderCallback(this.__update, this) }, MSScaleView.extend(MSFadeView); var e = MSScaleView.prototype, i = MSFadeView.prototype; e.__updateSlides = function (t, e) { var i = Math.abs(e / this[this.__dimension]), s = t.$element[0]; 1 - i <= 0 ? (s.style.opacity = 0, s.style.visibility = "hidden", s.style[window._jcsspfx + "Transform"] = "") : (s.style.opacity = 1 - i, s.style.visibility = "", s.style[window._jcsspfx + "Transform"] = "perspective(2000px) translateZ(" + i * (e < 0 ? -.5 : .5) * 300 + "px)") }, e.create = function (t) { i.create.call(this, t), this.controller.options.minValidDist = .03 }, MSSlideController.registerView("scale", MSScaleView) }(), function (t) { "use strict"; window.MSStackView = function (t) { MSBasicView.call(this, t), this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"), this.controller.renderCallback(this.__update, this), this.autoUpdateZIndex = !0 }, MSStackView.extend(MSFadeView), MSStackView._3dreq = !0, MSStackView._fallback = MSFadeView; var e = MSStackView.prototype, i = MSFadeView.prototype; e.__updateSlidesZindex = function () { for (var t = this.viewSlidesList.length, e = 0; e !== t; e++)this.viewSlidesList[e], this.viewSlidesList[e].$element.css("z-index", t - e) }, e.__updateSlides = function (t, e) { var i = Math.abs(e / this[this.__dimension]), s = t.$element[0]; 1 - i <= 0 ? (s.style.opacity = 1, s.style.visibility = "hidden", s.style[window._jcsspfx + "Transform"] = "") : (s.style.visibility = "", s.style[window._jcsspfx + "Transform"] = e < 0 ? "perspective(2000px) translateZ(" + -300 * i + "px)" : this.__translate + "(" + -i * this[this.__dimension] + "px)") }, e.create = function (t) { i.create.call(this, t), this.controller.options.minValidDist = .03, this.__translate = "h" === this.dir ? "translateX" : "translateY" }, MSSlideController.registerView("stack", MSStackView) }(), function () { "use strict"; window.MSFocusView = function (t) { MSWaveView.call(this, t), this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"), this.options.centerSpace = this.options.centerSpace || 1 }, MSFocusView.extend(MSWaveView), MSFocusView._3dreq = !0, MSFocusView._fallback = MSFadeBasicView; var t = MSFocusView.prototype; MSWaveView.prototype; t.__calcview = function (t, e) { return e / 2 * t / (t + 2e3) * (t + 2e3) / 2e3 }, t.__updateSlidesHoriz = function (t, e) { var i = Math.abs(100 * e / this.__width); i = 15 * -Math.min(i, 100), t.$element.css(window._csspfx + "transform", "translateZ(" + (i + 1) + "px) rotateY(0.01deg) translateX(" + (e < 0 ? 1 : -1) * (-this.__calcview(i, this.__width) * this.options.centerSpace) + "px)") }, t.__updateSlidesVertic = function (t, e) { var i = Math.abs(100 * e / this.__width); i = 15 * -Math.min(i, 100), t.$element.css(window._csspfx + "transform", "translateZ(" + (i + 1) + "px) rotateY(0.01deg) translateY(" + (e < 0 ? 1 : -1) * (-this.__calcview(i, this.__width) * this.options.centerSpace) + "px)") }, MSSlideController.registerView("focus", MSFocusView) }(), function () { window.MSPartialWaveView = function (t) { MSWaveView.call(this, t), this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view") }, MSPartialWaveView.extend(MSWaveView), MSPartialWaveView._3dreq = !0, MSPartialWaveView._fallback = MSFadeBasicView; var t = MSPartialWaveView.prototype; MSWaveView.prototype; t.__updateSlidesHoriz = function (t, e) { var i = Math.abs(100 * e / this.__width); t.hasBG && t.$bg_img.css("opacity", (100 - Math.abs(120 * e / this.__width / 3)) / 100), t.$element.css(window._csspfx + "transform", "translateZ(" + 3 * -i + "px) rotateY(0.01deg) translateX(" + .75 * e + "px)") }, t.__updateSlidesVertic = function (t, e) { var i = Math.abs(100 * e / this.__width); t.hasBG && t.$bg_img.css("opacity", (100 - Math.abs(120 * e / this.__width / 3)) / 100), t.$element.css(window._csspfx + "transform", "translateZ(" + 3 * -i + "px) rotateY(0.01deg) translateY(" + .75 * e + "px)") }, MSSlideController.registerView("partialWave", MSPartialWaveView) }(), function (t) { "use strict"; var e = function () { this.options = { prefix: "ms-", autohide: !0, overVideo: !0 } }, i = e.prototype; i.slideAction = function (t) { }, i.setup = function () { this.cont = this.options.insertTo ? t(this.options.insertTo) : this.slider.$controlsCont, this.options.overVideo || this._hideOnvideoStarts() }, i.checkHideUnder = function () { this.options.hideUnder && (this.needsRealign = !this.options.insetTo && ("left" === this.options.align || "right" === this.options.align) && !1 === this.options.inset, t(window).bind("resize", { that: this }, this.onResize), this.onResize()) }, i.onResize = function (t) { var e = t && t.data.that || this, i = window.innerWidth; i <= e.options.hideUnder && !e.detached ? (e.hide(!0), e.detached = !0, e.onDetach()) : i >= e.options.hideUnder && e.detached && (e.detached = !1, e.visible(), e.onAppend()) }, i.create = function () { this.options.autohide && !window._touch && (this.hide(!0), this.slider.$controlsCont.mouseenter(t.proxy(this._onMouseEnter, this)).mouseleave(t.proxy(this._onMouseLeave, this)).mousedown(t.proxy(this._onMouseDown, this)), this.$element && this.$element.mouseenter(t.proxy(this._onMouseEnter, this)).mouseleave(t.proxy(this._onMouseLeave, this)).mousedown(t.proxy(this._onMouseDown, this)), t(document).mouseup(t.proxy(this._onMouseUp, this))), this.options.align && this.$element.addClass("ms-align-" + this.options.align) }, i._onMouseEnter = function () { this._disableAH || this.mdown || this.visible(), this.mleave = !1 }, i._onMouseLeave = function () { this.mdown || this.hide(), this.mleave = !0 }, i._onMouseDown = function () { this.mdown = !0 }, i._onMouseUp = function () { this.mdown && this.mleave && this.hide(), this.mdown = !1 }, i.onAppend = function () { this.needsRealign && this.slider._realignControls() }, i.onDetach = function () { this.needsRealign && this.slider._realignControls() }, i._hideOnvideoStarts = function () { var t = this; this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY, function () { t._disableAH = !0, t.hide() }), this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE, function () { t._disableAH = !1, t.visible() }) }, i.hide = function (t) { if (t) this.$element.css("opacity", 0), this.$element.css("display", "none"); else { clearTimeout(this.hideTo); var e = this.$element; this.hideTo = setTimeout(function () { CTween.fadeOut(e, 400, !1) }, 20) } this.$element.addClass("ms-ctrl-hide") }, i.visible = function () { this.detached || (clearTimeout(this.hideTo), this.$element.css("display", ""), CTween.fadeIn(this.$element, 400, !1), this.$element.removeClass("ms-ctrl-hide")) }, i.destroy = function () { this.options && this.options.hideUnder && t(window).unbind("resize", this.onResize) }, window.BaseControl = e }(jQuery), function (t) { "use strict"; var e = function (e) { BaseControl.call(this), t.extend(this.options, e) }; e.extend(BaseControl); var i = e.prototype, s = BaseControl.prototype; i.setup = function () { var e = this; this.$next = t("<div></div>").addClass(this.options.prefix + "nav-next").bind("click", function () { e.slider.api.next(!0) }), this.$prev = t("<div></div>").addClass(this.options.prefix + "nav-prev").bind("click", function () { e.slider.api.previous(!0) }), s.setup.call(this), this.cont.append(this.$next), this.cont.append(this.$prev), this.checkHideUnder() }, i.hide = function (t) { if (t) return this.$prev.css("opacity", 0).css("display", "none"), void this.$next.css("opacity", 0).css("display", "none"); CTween.fadeOut(this.$prev, 400, !1), CTween.fadeOut(this.$next, 400, !1), this.$prev.addClass("ms-ctrl-hide"), this.$next.addClass("ms-ctrl-hide") }, i.visible = function () { this.detached || (CTween.fadeIn(this.$prev, 400), CTween.fadeIn(this.$next, 400), this.$prev.removeClass("ms-ctrl-hide").css("display", ""), this.$next.removeClass("ms-ctrl-hide").css("display", "")) }, i.destroy = function () { s.destroy(), this.$next.remove(), this.$prev.remove() }, window.MSArrows = e, MSSlideController.registerControl("arrows", e) }(jQuery), function (t) { "use strict"; var e = function (e) { BaseControl.call(this), this.options.dir = "h", this.options.wheel = "v" === e.dir, this.options.arrows = !1, this.options.speed = 17, this.options.align = null, this.options.inset = !1, this.options.margin = 10, this.options.space = 10, this.options.width = 100, this.options.height = 100, this.options.type = "thumbs", this.options.hover = !1, t.extend(this.options, e), this.thumbs = [], this.index_count = 0, this.__dimen = "h" === this.options.dir ? "width" : "height", this.__alignsize = "h" === this.options.dir ? "height" : "width", this.__jdimen = "h" === this.options.dir ? "outerWidth" : "outerHeight", this.__pos = "h" === this.options.dir ? "left" : "top", this.click_enable = !0 }; e.extend(BaseControl); var i = e.prototype, s = BaseControl.prototype; i.setup = function () { if (this.$element = t("<div></div>").addClass(this.options.prefix + "thumb-list"), "tabs" === this.options.type && this.$element.addClass(this.options.prefix + "tabs"), this.$element.addClass("ms-dir-" + this.options.dir), s.setup.call(this), this.slider.$controlsCont === this.cont ? this.$element.appendTo(this.slider.$element) : this.$element.appendTo(this.cont), this.$thumbscont = t("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element), this.options.arrows) { var e = this; this.$fwd = t("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function () { e.controller.push(-15) }), this.$bwd = t("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function () { e.controller.push(15) }) } if (!this.options.insetTo && this.options.align) { var i = this.options.align; this.options.inset ? this.$element.css(i, this.options.margin) : "top" === i ? this.$element.detach().prependTo(this.slider.$element).css({ "margin-bottom": this.options.margin, position: "relative" }) : "bottom" === i ? this.$element.css({ "margin-top": this.options.margin, position: "relative" }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align()), "v" === this.options.dir ? this.$element.width(this.options.width) : this.$element.height(this.options.height) } this.checkHideUnder() }, i.align = function (t) { if (!this.detached) { var e = this.options.align, i = this.slider.reserveSpace(e, this.options[this.__alignsize] + 2 * this.options.margin); this.$element.css(e, -i - this.options[this.__alignsize] - this.options.margin) } }, i.slideAction = function (e) { var i = e.$element.find(".ms-thumb"), s = this, n = t("<div></div>").addClass("ms-thumb-frame").append(i).append(t('<div class="ms-thumb-ol"></div>')).bind(this.options.hover ? "hover" : "click", function () { s.changeSlide(n) }); if (this.options.align && n.width(this.options.width - ("v" === this.options.dir && "tabs" === this.options.type ? 12 : 0)).height(this.options.height).css("margin-" + ("v" === this.options.dir ? "bottom" : "right"), this.options.space), n[0].index = this.index_count++, this.$thumbscont.append(n), this.options.fillMode && i.is("img")) { var o = new window.MSAligner(this.options.fillMode, n, i); i[0].aligner = o, i.one("load", function (e) { var i = t(this); i[0].aligner.init(i.width(), i.height()), i[0].aligner.align() }).each(t.jqLoadFix) } t.browser.msie && i.on("dragstart", function (t) { t.preventDefault() }), this.thumbs.push(n) }, i.create = function () { s.create.call(this), this.__translate_end = window._css3d ? " translateZ(0px)" : "", this.controller = new Controller(0, 0, { snappingMinSpeed: 2, friction: (100 - .5 * this.options.speed) / 100 }), this.controller.renderCallback("h" === this.options.dir ? this._hMove : this._vMove, this); var e = this; this.resize_listener = function () { e.__resize() }, t(window).bind("resize", this.resize_listener), this.thumbSize = this.thumbs[0][this.__jdimen](!0), this.setupSwipe(), this.__resize(); e = this; this.options.wheel && (this.wheellistener = function (t) { var i = window.event || t.orginalEvent || t, s = Math.max(-1, Math.min(1, i.wheelDelta || -i.detail)); return e.controller.push(10 * -s), !1 }, t.browser.mozilla ? this.$element[0].addEventListener("DOMMouseScroll", this.wheellistener) : this.$element.bind("mousewheel", this.wheellistener)), this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE, this.realignThumbs, this), this.cindex = this.slider.api.index(), this.select(this.thumbs[this.cindex]) }, i._hMove = function (t, e) { this.__contPos = e, window._cssanim ? this.$thumbscont[0].style[window._jcsspfx + "Transform"] = "translateX(" + -e + "px)" + this.__translate_end : this.$thumbscont[0].style.left = -e + "px" }, i._vMove = function (t, e) { this.__contPos = e, window._cssanim ? this.$thumbscont[0].style[window._jcsspfx + "Transform"] = "translateY(" + -e + "px)" + this.__translate_end : this.$thumbscont[0].style.top = -e + "px" }, i.setupSwipe = function () { this.swipeControl = new averta.TouchSwipe(this.$element), this.swipeControl.swipeType = "h" === this.options.dir ? "horizontal" : "vertical"; var t = this; "h" === this.options.dir ? this.swipeControl.onSwipe = function (e) { t.horizSwipeMove(e) } : this.swipeControl.onSwipe = function (e) { t.vertSwipeMove(e) } }, i.vertSwipeMove = function (t) { if (!this.dTouch) { var e = t.phase; if ("start" === e) this.controller.stop(); else if ("move" === e) this.controller.drag(t.moveY); else if ("end" === e || "cancel" === e) { Math.abs(t.distanceY / t.duration * 50 / 3) > .1 ? this.controller.push(-t.distanceY / t.duration * 50 / 3) : (this.click_enable = !0, this.controller.cancel()) } } }, i.horizSwipeMove = function (t) { if (!this.dTouch) { var e = t.phase; if ("start" === e) this.controller.stop(), this.click_enable = !1; else if ("move" === e) this.controller.drag(t.moveX); else if ("end" === e || "cancel" === e) { Math.abs(t.distanceX / t.duration * 50 / 3) > .1 ? this.controller.push(-t.distanceX / t.duration * 50 / 3) : (this.click_enable = !0, this.controller.cancel()) } } }, i.update = function () { var t = this.slider.api.index(); this.cindex !== t && (null != this.cindex && this.unselect(this.thumbs[this.cindex]), this.cindex = t, this.select(this.thumbs[this.cindex]), this.dTouch || this.updateThumbscroll()) }, i.realignThumbs = function () { this.$element.find(".ms-thumb").each(function (t, e) { e.aligner && e.aligner.align() }) }, i.updateThumbscroll = function () { var t = this.thumbSize * this.cindex; if (NaN == this.controller.value && (this.controller.value = 0), t - this.controller.value < 0) this.controller.gotoSnap(this.cindex, !0); else if (t + this.thumbSize - this.controller.value > this.$element[this.__dimen]()) { var e = this.cindex - Math.floor(this.$element[this.__dimen]() / this.thumbSize) + 1; this.controller.gotoSnap(e, !0) } else; }, i.changeSlide = function (t) { this.click_enable && this.cindex !== t[0].index && this.slider.api.gotoSlide(t[0].index) }, i.unselect = function (t) { t.removeClass("ms-thumb-frame-selected") }, i.select = function (t) { t.addClass("ms-thumb-frame-selected") }, i.__resize = function () { var t = this.$element[this.__dimen](); if (this.ls !== t) { this.ls = t, this.thumbSize = this.thumbs[0][this.__jdimen](!0); var e = this.slider.api.count() * this.thumbSize; this.$thumbscont[0].style[this.__dimen] = e + "px", e <= t ? (this.dTouch = !0, this.controller.stop(), this.$thumbscont[0].style[this.__pos] = .5 * (t - e) + "px", this.$thumbscont[0].style[window._jcsspfx + "Transform"] = "") : (this.dTouch = !1, this.click_enable = !0, this.$thumbscont[0].style[this.__pos] = "", this.controller._max_value = e - t, this.controller.options.snapsize = this.thumbSize, this.updateThumbscroll()) } }, i.destroy = function () { s.destroy(), this.options.wheel && (t.browser.mozilla ? this.$element[0].removeEventListener("DOMMouseScroll", this.wheellistener) : this.$element.unbind("mousewheel", this.wheellistener), this.wheellistener = null), t(window).unbind("resize", this.resize_listener), this.$element.remove(), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.update, this) }, window.MSThumblist = e, MSSlideController.registerControl("thumblist", e) }(jQuery), function (t) { "use strict"; var e = function (e) { BaseControl.call(this), this.options.dir = "h", this.options.inset = !0, this.options.margin = 10, this.options.space = 10, t.extend(this.options, e), this.bullets = [] }; e.extend(BaseControl); var i = e.prototype, s = BaseControl.prototype; i.setup = function () { if (s.setup.call(this), this.$element = t("<div></div>").addClass(this.options.prefix + "bullets").addClass("ms-dir-" + this.options.dir).appendTo(this.cont), this.$bullet_cont = t("<div></div>").addClass("ms-bullets-count").appendTo(this.$element), !this.options.insetTo && this.options.align) { var e = this.options.align; this.options.inset && this.$element.css(e, this.options.margin) } this.checkHideUnder() }, i.create = function () { s.create.call(this); var e = this; this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.cindex = this.slider.api.index(); for (var i = 0; i < this.slider.api.count(); ++i) { var n = t("<div></div>").addClass("ms-bullet"); n[0].index = i, n.on("click", function () { e.changeSlide(this.index) }), this.$bullet_cont.append(n), this.bullets.push(n), "h" === this.options.dir ? n.css("margin", this.options.space / 2) : n.css("margin", this.options.space) } "h" === this.options.dir ? this.$element.width(n.outerWidth(!0) * this.slider.api.count()) : this.$element.css("margin-top", -this.$element.outerHeight(!0) / 2), this.select(this.bullets[this.cindex]) }, i.update = function () { var t = this.slider.api.index(); this.cindex !== t && (null != this.cindex && this.unselect(this.bullets[this.cindex]), this.cindex = t, this.select(this.bullets[this.cindex])) }, i.changeSlide = function (t) { this.cindex !== t && this.slider.api.gotoSlide(t) }, i.unselect = function (t) { t.removeClass("ms-bullet-selected") }, i.select = function (t) { t.addClass("ms-bullet-selected") }, i.destroy = function () { s.destroy(), this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.$element.remove() }, window.MSBulltes = e, MSSlideController.registerControl("bullets", e) }(jQuery), function (t) { "use strict"; var e = function (e) { BaseControl.call(this), this.options.dir = "h", this.options.autohide = !0, this.options.width = 4, this.options.color = "#3D3D3D", this.options.margin = 10, t.extend(this.options, e), this.__dimen = "h" === this.options.dir ? "width" : "height", this.__jdimen = "h" === this.options.dir ? "outerWidth" : "outerHeight", this.__pos = "h" === this.options.dir ? "left" : "top", this.__translate_end = window._css3d ? " translateZ(0px)" : "", this.__translate_start = "h" === this.options.dir ? " translateX(" : "translateY(" }; e.extend(BaseControl); var i = e.prototype, s = BaseControl.prototype; i.setup = function () { if (this.$element = t("<div></div>").addClass(this.options.prefix + "sbar").addClass("ms-dir-" + this.options.dir), s.setup.call(this), this.slider.$controlsCont === this.cont ? this.$element.appendTo(this.slider.$element) : this.$element.appendTo(this.cont), this.$bar = t("<div></div>").addClass(this.options.prefix + "bar").appendTo(this.$element), this.slider.options.loop && (console.log("WARNING, MSScrollbar cannot work with looped slider."), this.disable = !0, this.$element.remove()), "v" === this.options.dir ? this.$bar.width(this.options.width) : this.$bar.height(this.options.width), this.$bar.css("background-color", this.options.color), !this.options.insetTo && this.options.align) { "v" === this.options.dir ? this.$element.css({ right: "auto", left: "auto" }) : this.$element.css({ top: "auto", bottom: "auto" }); var e = this.options.align; this.options.inset ? this.$element.css(e, this.options.margin) : "top" === e ? this.$element.prependTo(this.slider.$element).css({ "margin-bottom": this.options.margin, position: "relative" }) : "bottom" === e ? this.$element.css({ "margin-top": this.options.margin, position: "relative" }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align()) } this.checkHideUnder() }, i.align = function (t) { if (!this.detached) { var e = this.options.align, i = this.slider.reserveSpace(e, 2 * this.options.margin + this.options.width); this.$element.css(e, -i - this.options.margin - this.options.width) } }, i.create = function () { if (!this.disable) { this.scroller = this.slider.api.scroller, this.slider.api.view.addEventListener(MSViewEvents.SCROLL, this._update, this), this.slider.api.addEventListener(MSSliderEvent.RESIZE, this._resize, this), this._resize(), this.options.autohide && this.$bar.css("opacity", "0") } }, i._resize = function () { this.vdimen = this.$element[this.__dimen](), this.bar_dimen = this.slider.api.view["__" + this.__dimen] * this.vdimen / this.scroller._max_value, this.$bar[this.__dimen](this.bar_dimen) }, i._update = function () { var t = this.scroller.value * (this.vdimen - this.bar_dimen) / this.scroller._max_value; if (this.lvalue !== t) { if (this.lvalue = t, this.options.autohide) { clearTimeout(this.hto), this.$bar.css("opacity", "1"); var e = this; this.hto = setTimeout(function () { e.$bar.css("opacity", "0") }, 150) } t < 0 ? this.$bar[0].style[this.__dimen] = this.bar_dimen + t + "px" : (t > this.vdimen - this.bar_dimen && (this.$bar[0].style[this.__dimen] = this.vdimen - t + "px"), window._cssanim ? this.$bar[0].style[window._jcsspfx + "Transform"] = this.__translate_start + t + "px)" + this.__translate_end : this.$bar[0].style[this.__pos] = t + "px") } }, i.destroy = function () { s.destroy(), this.slider.api.view.removeEventListener(MSViewEvents.SCROLL, this._update, this), this.slider.api.removeEventListener(MSSliderEvent.RESIZE, this._resize, this), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.$element.remove() }, window.MSScrollbar = e, MSSlideController.registerControl("scrollbar", e) }(jQuery), function (t) { "use strict"; var e = function (e) { BaseControl.call(this), this.options.autohide = !1, this.options.width = 4, this.options.color = "#FFFFFF", this.options.inset = !0, this.options.margin = 0, t.extend(this.options, e) }; e.extend(BaseControl); var i = e.prototype, s = BaseControl.prototype; i.setup = function () { if (s.setup.call(this), this.$element = t("<div></div>").addClass(this.options.prefix + "timerbar"), s.setup.call(this), this.slider.$controlsCont === this.cont ? this.$element.appendTo(this.slider.$element) : this.$element.appendTo(this.cont), this.$bar = t("<div></div>").addClass("ms-time-bar").appendTo(this.$element), "v" === this.options.dir ? (this.$bar.width(this.options.width), this.$element.width(this.options.width)) : (this.$bar.height(this.options.width), this.$element.height(this.options.width)), this.$bar.css("background-color", this.options.color), !this.options.insetTo && this.options.align) { this.$element.css({ top: "auto", bottom: "auto" }); var e = this.options.align; this.options.inset ? this.$element.css(e, this.options.margin) : "top" === e ? this.$element.prependTo(this.slider.$element).css({ "margin-bottom": this.options.margin, position: "relative" }) : "bottom" === e ? this.$element.css({ "margin-top": this.options.margin, position: "relative" }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align()) } this.checkHideUnder() }, i.align = function (t) { if (!this.detached) { var e = this.options.align, i = this.slider.reserveSpace(e, 2 * this.options.margin + this.options.width); this.$element.css(e, -i - this.options.margin - this.options.width) } }, i.create = function () { s.create.call(this), this.slider.api.addEventListener(MSSliderEvent.WAITING, this._update, this), this._update() }, i._update = function () { this.$bar[0].style.width = this.slider.api._delayProgress + "%" }, i.destroy = function () { s.destroy(), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.slider.api.removeEventListener(MSSliderEvent.WAITING, this._update, this), this.$element.remove() }, window.MSTimerbar = e, MSSlideController.registerControl("timebar", e) }(jQuery), function (t) { "use strict"; var e = function (e) { BaseControl.call(this), this.options.color = "#A2A2A2", this.options.stroke = 10, this.options.radius = 4, this.options.autohide = !1, t.extend(this.options, e) }; e.extend(BaseControl); var i = e.prototype, s = BaseControl.prototype; i.setup = function () { if (s.setup.call(this), this.$element = t("<div></div>").addClass(this.options.prefix + "ctimer").appendTo(this.cont), this.$canvas = t("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element), this.$bar = t("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element), !this.$canvas[0].getContext) return this.destroy(), void (this.disable = !0); this.ctx = this.$canvas[0].getContext("2d"), this.prog = 0, this.__w = 2 * (this.options.radius + this.options.stroke / 2), this.$canvas[0].width = this.__w, this.$canvas[0].height = this.__w, this.checkHideUnder() }, i.create = function () { if (!this.disable) { s.create.call(this), this.slider.api.addEventListener(MSSliderEvent.WAITING, this._update, this); var t = this; this.$element.click(function () { t.slider.api.paused ? t.slider.api.resume() : t.slider.api.pause() }), this._update() } }, i._update = function () { var e = this; t(this).stop(!0).animate({ prog: .01 * this.slider.api._delayProgress }, { duration: 200, step: function () { e._draw() } }) }, i._draw = function () { this.ctx.clearRect(0, 0, this.__w, this.__w), this.ctx.beginPath(), this.ctx.arc(.5 * this.__w, .5 * this.__w, this.options.radius, 1.5 * Math.PI, 1.5 * Math.PI + 2 * Math.PI * this.prog, !1), this.ctx.strokeStyle = this.options.color, this.ctx.lineWidth = this.options.stroke, this.ctx.stroke() }, i.destroy = function () { s.destroy(), this.disable || (t(this).stop(!0), this.slider.api.removeEventListener(MSSliderEvent.WAITING, this._update, this), this.$element.remove()) }, window.MSCircleTimer = e, MSSlideController.registerControl("circletimer", e) }(jQuery), function (t) { "use strict"; window.MSLightbox = function (e) { BaseControl.call(this, e), this.options.autohide = !1, t.extend(this.options, e), this.data_list = [] }, MSLightbox.fadeDuratation = 400, MSLightbox.extend(BaseControl); var e = MSLightbox.prototype, i = BaseControl.prototype; e.setup = function () { i.setup.call(this), this.$element = t("<div></div>").addClass(this.options.prefix + "lightbox-btn").appendTo(this.cont), this.checkHideUnder() }, e.slideAction = function (e) { t("<div></div>").addClass(this.options.prefix + "lightbox-btn").appendTo(e.$element).append(t(e.$element.find(".ms-lightbox"))) }, e.create = function () { i.create.call(this) }, MSSlideController.registerControl("lightbox", MSLightbox) }(jQuery), function (t) { "use strict"; window.MSSlideInfo = function (e) { BaseControl.call(this, e), this.options.autohide = !1, this.options.align = null, this.options.inset = !1, this.options.margin = 10, this.options.size = 100, this.options.dir = "h", t.extend(this.options, e), this.data_list = [] }, MSSlideInfo.fadeDuratation = 400, MSSlideInfo.extend(BaseControl); var e = MSSlideInfo.prototype, i = BaseControl.prototype; e.setup = function () { if (this.$element = t("<div></div>").addClass(this.options.prefix + "slide-info").addClass("ms-dir-" + this.options.dir), i.setup.call(this), this.slider.$controlsCont === this.cont ? this.$element.appendTo(this.slider.$element) : this.$element.appendTo(this.cont), !this.options.insetTo && this.options.align) { var e = this.options.align; this.options.inset ? this.$element.css(e, this.options.margin) : "top" === e ? this.$element.prependTo(this.slider.$element).css({ "margin-bottom": this.options.margin, position: "relative" }) : "bottom" === e ? this.$element.css({ "margin-top": this.options.margin, position: "relative" }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align()), "v" === this.options.dir ? this.$element.width(this.options.size) : this.$element.css("min-height", this.options.size) } this.checkHideUnder() }, e.align = function (t) { if (!this.detached) { var e = this.options.align, i = this.slider.reserveSpace(e, this.options.size + 2 * this.options.margin); this.$element.css(e, -i - this.options.size - this.options.margin) } }, e.slideAction = function (e) { var i = t(e.$element.find(".ms-info")); i.detach(), this.data_list[e.index] = i }, e.create = function () { i.create.call(this), this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.cindex = this.slider.api.index(), this.switchEle(this.data_list[this.cindex]) }, e.update = function () { var t = this.slider.api.index(); this.switchEle(this.data_list[t]), this.cindex = t }, e.switchEle = function (t) { if (this.current_ele) { this.current_ele[0].tween && this.current_ele[0].tween.stop(!0), this.current_ele[0].tween = CTween.animate(this.current_ele, MSSlideInfo.fadeDuratation, { opacity: 0 }, { complete: function () { this.detach(), this[0].tween = null, t.css("position", "relative") }, target: this.current_ele }), t.css("position", "absolute") } this.__show(t) }, e.__show = function (t) { t.appendTo(this.$element).css("opacity", "0"), this.current_ele && t.height(Math.max(t.height(), this.current_ele.height())), clearTimeout(this.tou), this.tou = setTimeout(function () { CTween.fadeIn(t, MSSlideInfo.fadeDuratation), t.css("height", "") }, MSSlideInfo.fadeDuratation), t[0].tween && t[0].tween.stop(!0), this.current_ele = t }, e.destroy = function () { i.destroy(), clearTimeout(this.tou), this.current_ele && this.current_ele[0].tween && this.current_ele[0].tween.stop("true"), this.$element.remove(), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.update, this) }, MSSlideController.registerControl("slideinfo", MSSlideInfo) }(jQuery), function (t) { window.MSGallery = function (e, i) { this.id = e, this.slider = i, this.telement = t("#" + e), this.botcont = t("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement), this.thumbcont = t("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont), this.playbtn = t("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont), this.thumbtoggle = t("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont), i.control("thumblist", { insertTo: this.thumbcont, autohide: !1, dir: "h" }), i.control("slidenum", { insertTo: this.botcont, autohide: !1 }), i.control("slideinfo", { insertTo: this.botcont, autohide: !1 }), i.control("timebar", { insertTo: this.botcont, autohide: !1 }), i.control("bullets", { insertTo: this.botcont, autohide: !1 }) }; var e = MSGallery.prototype; e._init = function () { var t = this; this.slider.api.paused || this.playbtn.addClass("btn-pause"), this.playbtn.click(function () { t.slider.api.paused ? (t.slider.api.resume(), t.playbtn.addClass("btn-pause")) : (t.slider.api.pause(), t.playbtn.removeClass("btn-pause")) }), this.thumbtoggle.click(function () { t.vthumbs ? (t.thumbtoggle.removeClass("btn-hide"), t.vthumbs = !1, t.thumbcont.addClass("hide-thumbs")) : (t.thumbtoggle.addClass("btn-hide"), t.thumbcont.removeClass("hide-thumbs"), t.vthumbs = !0) }) }, e.setup = function () { var e = this; t(document).ready(function () { e._init() }) } }(jQuery), function (t) { var e = function (t, e, i, s, n, o) { return "_o" === n && o ? o.url_o : "https://farm" + t + ".staticflickr.com/" + e + "/" + i + "_" + s + n + ".jpg" }; window.MSFlickrV2 = function (e, i) { var s = { count: 10, type: "photoset", thumbSize: "q", imgSize: "c" }; if (this.slider = e, this.slider.holdOn(), i.key) { t.extend(s, i), this.options = s; var n, o, a, r = this; "photoset" === this.options.type ? t.getJSON((n = this.options.key, o = this.options.id, a = this.options.count, "https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=" + n + "&photoset_id=" + o + "&per_page=" + a + "&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"), function (t) { r._photosData(t) }) : t.getJSON(function (t, e, i) { return "https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key=" + t + "&user_id=" + e + "&per_page=" + i + "&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?" }(this.options.key, this.options.id, this.options.count), function (t) { r.options.type = "photos", r._photosData(t) }), "" !== this.options.imgSize && "-" !== this.options.imgSize && (this.options.imgSize = "_" + this.options.imgSize), this.options.thumbSize = "_" + this.options.thumbSize, this.slideTemplate = this.slider.$element.find(".ms-slide")[0].outerHTML, this.slider.$element.find(".ms-slide").remove() } else this.errMsg("Flickr API Key required. Please add it in settings.") }; var i = MSFlickrV2.prototype; i._photosData = function (e) { if ("fail" !== e.stat) { var i = this; this.options.author || this.options.desc; t.each(e[this.options.type].photo, function (e, n) { var o = i.slideTemplate.replace(/{{[\w-]+}}/g, function (t) { return t = t.replace(/{{|}}/g, ""), s[t] ? s[t](n, i) : "[" + t + "]" }); t(o).appendTo(i.slider.$element) }), i._initSlider() } else this.errMsg("Flickr API ERROR#" + e.code + ": " + e.message) }, i.errMsg = function (e) { this.slider.$element.css("display", "block"), this.errEle || (this.errEle = t('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)), this.errEle.html(e) }, i._initSlider = function () { this.slider.release() }; var s = { image: function (t, i) { return e(t.farm, t.server, t.id, t.secret, i.options.imgSize, t) }, thumb: function (t, i) { return e(t.farm, t.server, t.id, t.secret, i.options.thumbSize) }, title: function (t, e) { return t.title }, "owner-name": function (t, e) { return t.ownername }, "date-taken": function (t, e) { return t.datetaken }, views: function (t, e) { return t.views }, description: function (t, e) { return t.description._content } } }(jQuery), function (t) { window.MSFacebookGallery = function (e, i) { var s = { count: 10, type: "photostream", thumbSize: "320", imgSize: "orginal", https: !1 }; this.slider = e, this.slider.holdOn(), t.extend(s, i), this.options = s, this.graph = this.options.https ? "https://graph.facebook.com" : "http://graph.facebook.com"; var n = this; "photostream" === this.options.type ? t.getJSON(this.graph + "/" + this.options.username + "/photos/uploaded/?fields=source,name,link,images,from&limit=" + this.options.count, function (t) { n._photosData(t) }) : t.getJSON(this.graph + "/" + this.options.albumId + "/photos?fields=source,name,link,images,from&limit=" + this.options.count, function (t) { n._photosData(t) }), this.slideTemplate = this.slider.$element.find(".ms-slide")[0].outerHTML, this.slider.$element.find(".ms-slide").remove() }; var e = MSFacebookGallery.prototype; e._photosData = function (e) { if (e.error) this.errMsg("Facebook API ERROR#" + e.error.code + "(" + e.error.type + "): " + e.error.message); else { for (var i = this, n = (this.options.author || this.options.desc, 0), o = e.data.length; n !== o; n++) { var a = i.slideTemplate.replace(/{{[\w-]+}}/g, function (t) { return t = t.replace(/{{|}}/g, ""), s[t] ? s[t](e.data[n], i) : "{{" + t + "}}" }); t(a).appendTo(i.slider.$element) } i._initSlider() } }, e.errMsg = function (e) { this.slider.$element.css("display", "block"), this.errEle || (this.errEle = t('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)), this.errEle.html(e) }, e._initSlider = function () { this.slider.release() }; var i = function (t, e) { if ("orginal" === e) return t[0].source; for (var i = 0, s = t.length; i !== s; i++)if (-1 !== t[i].source.indexOf(e + "x" + e)) return t[i].source; return t[s - 3].source }, s = { image: function (t, e) { return i(t.images, e.options.imgSize) }, thumb: function (t, e) { return i(t.images, e.options.thumbSize) }, name: function (t, e) { return t.name }, "owner-name": function (t, e) { return t.from.name }, link: function (t, e) { return t.link } } }(jQuery), function (t) { "use strict"; window.MSScrollParallax = function (t, e, i, s) { this.fade = s, this.slider = t, this.parallax = e / 100, this.bgparallax = i / 100, t.api.addEventListener(MSSliderEvent.INIT, this.init, this), t.api.addEventListener(MSSliderEvent.DESTROY, this.destory, this), t.api.addEventListener(MSSliderEvent.CHANGE_END, this.resetLayers, this), t.api.addEventListener(MSSliderEvent.CHANGE_START, this.updateCurrentSlide, this) }, window.MSScrollParallax.setup = function (t, e, i, s) { if (!window._mobile) return null == e && (e = 50), null == i && (i = 40), new MSScrollParallax(t, e, i, s) }; var e = window.MSScrollParallax.prototype; e.init = function (e) { this.slider.$element.addClass("ms-scroll-parallax"), this.sliderOffset = this.slider.$element.offset().top, this.updateCurrentSlide(); for (var i, s = this.slider.api.view.slideList, n = 0, o = s.length; n !== o; n++)(i = s[n]).$layers && (i.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'), i.$scrollParallaxCont = i.$layers.parent()); t(window).on("scroll", { that: this }, this.moveParallax).trigger("scroll") }, e.resetLayers = function (t) { if (this.lastSlide) { var e = this.lastSlide.$scrollParallaxCont; window._css2d ? (e && (e[0].style[window._jcsspfx + "Transform"] = ""), this.lastSlide.hasBG && (this.lastSlide.$imgcont[0].style[window._jcsspfx + "Transform"] = "")) : (e && (e[0].style.top = ""), this.lastSlide.hasBG && (this.lastSlide.$imgcont[0].style.top = "0px")) } }, e.updateCurrentSlide = function (t) { this.lastSlide = this.currentSlide, this.currentSlide = this.slider.api.currentSlide, this.moveParallax({ data: { that: this } }) }, e.moveParallax = function (e) { var i = e.data.that, s = i.slider, n = i.sliderOffset, o = t(window).scrollTop(), a = i.currentSlide.$scrollParallaxCont, r = n - o; r <= 0 ? (a && (window._css3d ? a[0].style[window._jcsspfx + "Transform"] = "translateY(" + -r * i.parallax + "px) translateZ(0.4px)" : window._css2d ? a[0].style[window._jcsspfx + "Transform"] = "translateY(" + -r * i.parallax + "px)" : a[0].style.top = -r * i.parallax + "px"), i.updateSlidesBG(-r * i.bgparallax + "px", !0), a && i.fade && a.css("opacity", 1 - Math.min(1, -r / s.api.height))) : (a && (window._css2d ? a[0].style[window._jcsspfx + "Transform"] = "" : a[0].style.top = ""), i.updateSlidesBG("0px", !1), a && i.fade && a.css("opacity", 1)) }, e.updateSlidesBG = function (e, i) { for (var s = this.slider.api.view.slideList, n = !i || t.browser.msie || t.browser.opera ? "" : "fixed", o = 0, a = s.length; o !== a; o++)s[o].hasBG && (s[o].$imgcont[0].style.position = n, s[o].$imgcont[0].style.top = e), s[o].$bgvideocont && (s[o].$bgvideocont[0].style.position = n, s[o].$bgvideocont[0].style.top = e) }, e.destory = function () { slider.api.removeEventListener(MSSliderEvent.INIT, this.init, this), slider.api.removeEventListener(MSSliderEvent.DESTROY, this.destory, this), slider.api.removeEventListener(MSSliderEvent.CHANGE_END, this.resetLayers, this), slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.updateCurrentSlide, this), t(window).off("scroll", this.moveParallax) } }(jQuery), function (t, e, i) { var s = 0; if (i.Multislider) { var n = function (t) { this.slider = t, this.PId = s++, this.slider.options.keyboard && t.api.addEventListener(MSSliderEvent.INIT, this.init, this) }; n.name = "MSKeyboardNav"; var o = n.prototype; o.init = function () { var i = this.slider.api; t(e).on("keydown.kbnav" + this.PId, function (t) { var e = t.which; 37 === e || 40 === e ? i.previous(!0) : 38 !== e && 39 !== e || i.next(!0) }) }, o.destroy = function () { t(e).off("keydown.kbnav" + this.PId), this.slider.api.removeEventListener(MSSliderEvent.INIT, this.init, this) }, Multislider.registerPlugin(n) } }(jQuery, document, window), function (t, e, i) { var s = 0, n = t(i), o = t(e); if (i.Multislider) { var a = function (e) { this.PId = s++, this.slider = e, this.$slider = e.$element, this.slider.options.startOnAppear && (e.holdOn(), o.ready(t.proxy(this.init, this))) }; a.name = "MSStartOnAppear"; var r = a.prototype; r.init = function () { this.slider.api; n.on("scroll.soa" + this.PId, t.proxy(this._onScroll, this)).trigger("scroll") }, r._onScroll = function () { var t = n.scrollTop() + n.height(); this.$slider.offset().top < t && (n.off("scroll.soa" + this.PId), this.slider.release()) }, r.destroy = function () { }, Multislider.registerPlugin(a) } }(jQuery, document, window), function (t, e, i) { var s = { "hue-rotate": "deg", blur: "px" }, n = { opacity: 1, contrast: 1, brightness: 1, saturate: 1, "hue-rotate": 0, invert: 0, sepia: 0, blur: 0, grayscale: 0 }; if (e.Multislider) { var o = function (t) { this.slider = t, this.slider.options.filters && t.api.addEventListener(MSSliderEvent.INIT, this.init, this) }; o.name = "MSFilters"; var a = o.prototype; a.init = function () { var t = this.slider.api.view; this.filters = this.slider.options.filters, this.slideList = t.slideList, this.slidesCount = t.slidesCount, this.dimension = t[t.__dimension], this.target = "slide" === this.slider.options.filterTarget ? "$element" : "$bg_img", this.filterName = $.browser.webkit ? "WebkitFilter" : "filter"; var e = t.controller.__renderHook.fun, i = t.controller.__renderHook.ref; t.controller.renderCallback(function (t, s) { e.call(i, t, s), this.applyEffect(s) }, this), this.applyEffect(t.controller.value) }, a.applyEffect = function (t) { for (var e, i, s = 0; s < this.slidesCount; ++s)i = this.slideList[s], e = Math.min(1, Math.abs(t - i.position) / this.dimension), i[this.target] && ($.browser.msie ? null != this.filters.opacity && i[this.target].opacity(1 - this.filters.opacity * e) : i[this.target][0].style[this.filterName] = this.generateStyle(e)) }, a.generateStyle = function (t) { var e = ""; for (var i in this.filters) s[i] || "", e += i + "(" + (n[i] + (this.filters[i] - n[i]) * t) + ") "; return e }, a.destroy = function () { this.slider.api.removeEventListener(MSSliderEvent.INIT, this.init, this) }, Multislider.registerPlugin(o) } }(document, window) }(eds3_5_jq);